{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useContext } from 'react';\nimport Axios from 'axios';\nimport AgentEdit from './AgentEdit';\nimport AgentContext from '../../context/AgentContext';\nimport Cookies from 'js-cookie';\nimport AlertContext from '../../context/alert/alertContext';\nimport getAgentId from '../genericFunctions/getAgentId';\nimport getAgentData from '../genericFunctions/getAgentData';\n\nconst AgentView = () => {\n  const {\n    0: agentId,\n    1: setAgentId\n  } = useState('');\n  const {\n    0: firstName,\n    1: setFirstName\n  } = useState('');\n  const {\n    0: lastName,\n    1: setLastName\n  } = useState('');\n  const {\n    0: motherName,\n    1: setMotherName\n  } = useState('');\n  const {\n    0: birthDate,\n    1: setBirthDate\n  } = useState('');\n  const {\n    0: email,\n    1: setEmail\n  } = useState('');\n  const {\n    0: phone,\n    1: setPhone\n  } = useState('');\n  const {\n    0: secondName,\n    1: setSecondName\n  } = useState('');\n  const {\n    0: nationality,\n    1: setNationality\n  } = useState('');\n  const {\n    0: doctype,\n    1: setDoctype\n  } = useState('');\n  const {\n    0: dni,\n    1: setDni\n  } = useState('');\n  const {\n    0: accountType,\n    1: setAccountType\n  } = useState('');\n  const {\n    0: ruc,\n    1: setRuc\n  } = useState('');\n  const {\n    0: address,\n    1: setAddress\n  } = useState('');\n  const {\n    0: companyName,\n    1: setCompanyName\n  } = useState('');\n  const {\n    0: showEdit,\n    1: setShowEdit\n  } = useState(false);\n  const {\n    state,\n    addToken,\n    addName\n  } = useContext(AgentContext);\n  const alertContext = useContext(AlertContext);\n  const {\n    setAlert,\n    alerts\n  } = alertContext;\n  const token = Cookies.get('agentToken');\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n\n  const init = async () => {\n    try {\n      setLoading(true);\n      const resProfileId = await getAgentId(token);\n      const resProfile = await getAgentData(token, resProfileId); // console.log(resProfile._id);\n\n      setAccountType(resProfile.accountType); // console.log(resProfile.accountType);\n\n      setFirstName(resProfile.firstName);\n      setAgentId(resProfile._id);\n      setLastName(resProfile.lastName);\n      setMotherName(resProfile.motherLastName);\n      setBirthDate(resProfile.birthDate);\n      setEmail(resProfile.email);\n      setPhone(resProfile.phone);\n      setSecondName(resProfile.secondName);\n      setNationality(resProfile.nationality);\n      setDni(resProfile.dni);\n      setDoctype(resProfile.doctype);\n      setRuc(resProfile.ruc);\n      setCompanyName(resProfile.companyName);\n      setAddress(resProfile.address);\n      setLoading(false);\n    } catch (error) {\n      setAlert('Por favor complete su perfil', 'danger');\n    }\n  };\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  const handleEdit = async () => {\n    setShowEdit(!showEdit);\n    await init();\n  };\n\n  if (showEdit === true) {\n    return __jsx(AgentEdit, {\n      handleShowEdit: handleEdit,\n      state: showEdit,\n      data: {\n        firstName,\n        secondName,\n        lastName,\n        motherName,\n        birthDate,\n        email,\n        phone,\n        nationality,\n        dni,\n        doctype,\n        accountType,\n        ruc,\n        companyName,\n        address\n      },\n      accountType: accountType,\n      id: agentId\n    });\n  }\n\n  if (loading === true) {\n    return __jsx(\"div\", {\n      className: \"page-loader\"\n    }, __jsx(\"div\", {\n      className: \"loader\"\n    }, \"Cargando...\"));\n  }\n\n  return __jsx(React.Fragment, null, __jsx(\"section\", {\n    \"data-background\": \"images/bkg-neutro.jpg\",\n    className: \"jsx-1747754318\" + \" \" + 'page-section min-section pt-90 parallax-2'\n  }, __jsx(\"form\", {\n    className: \"jsx-1747754318\" + \" \" + 'form-normal'\n  }, __jsx(\"div\", {\n    className: \"jsx-1747754318\" + \" \" + 'container align-left'\n  }, __jsx(\"h2\", {\n    className: \"jsx-1747754318\" + \" \" + 'orange'\n  }, \"Detalles del perfil\"), __jsx(\"div\", {\n    className: \"jsx-1747754318\" + \" \" + 'col-md-5 col-xs-12 padding0'\n  }, accountType === 'Personal' ? '' : __jsx(React.Fragment, null, __jsx(\"h5\", {\n    className: \"jsx-1747754318\" + \" \" + 'black bold mb-10 mt-20'\n  }, \"Nombre de empresa\"), __jsx(\"h4\", {\n    className: \"jsx-1747754318\" + \" \" + 'black mb-10 mt-20'\n  }, companyName)), __jsx(\"h5\", {\n    className: \"jsx-1747754318\" + \" \" + 'black bold mb-10  mt-20'\n  }, \"Primer nombre\"), __jsx(\"h4\", {\n    className: \"jsx-1747754318\" + \" \" + 'black mb-10 mt-20'\n  }, firstName), __jsx(\"h5\", {\n    className: \"jsx-1747754318\" + \" \" + 'black bold mb-10  mt-20'\n  }, \"Apellido paterno\"), __jsx(\"h4\", {\n    className: \"jsx-1747754318\" + \" \" + 'black mb-10 mt-20'\n  }, lastName), __jsx(React.Fragment, null, __jsx(\"h5\", {\n    className: \"jsx-1747754318\" + \" \" + 'black bold mb-10 mt-20'\n  }, \"Direcci\\xF3n\"), __jsx(\"h4\", {\n    className: \"jsx-1747754318\" + \" \" + 'black mb-10 mt-20'\n  }, address)), __jsx(\"h5\", {\n    className: \"jsx-1747754318\" + \" \" + 'black bold mb-10  mt-20'\n  }, \"Email\"), __jsx(\"h4\", {\n    className: \"jsx-1747754318\" + \" \" + 'black mb-10 mt-20'\n  }, email)), __jsx(\"div\", {\n    className: \"jsx-1747754318\" + \" \" + 'col-md-2 col-xs-12 padding0'\n  }), __jsx(\"div\", {\n    className: \"jsx-1747754318\" + \" \" + 'col-md-5 col-xs-12 padding0'\n  }, __jsx(\"h5\", {\n    className: \"jsx-1747754318\" + \" \" + 'black bold mb-10'\n  }, \"N\\xBA de documento\"), __jsx(\"h4\", {\n    className: \"jsx-1747754318\" + \" \" + 'black mb-10 mt-20'\n  }, dni), __jsx(\"h5\", {\n    className: \"jsx-1747754318\" + \" \" + 'black bold mb-10 mt-20'\n  }, \"N\\xFAmero telef\\xF3nico\"), __jsx(\"h4\", {\n    className: \"jsx-1747754318\" + \" \" + 'black mb-10 mt-20'\n  }, phone), __jsx(\"h5\", {\n    className: \"jsx-1747754318\" + \" \" + 'black bold mb-10 mt-20'\n  }, \"Tipo de Perfil \"), __jsx(\"h4\", {\n    className: \"jsx-1747754318\" + \" \" + 'black mb-10 mt-20'\n  }, accountType), accountType === 'Personal' ? '' : __jsx(React.Fragment, null, __jsx(\"h5\", {\n    className: \"jsx-1747754318\" + \" \" + 'black bold mb-10 mt-20'\n  }, \"R.U.C\"), __jsx(\"h4\", {\n    className: \"jsx-1747754318\" + \" \" + 'black mb-10 mt-20'\n  }, ruc))), __jsx(\"div\", {\n    className: \"jsx-1747754318\" + \" \" + 'col-md-12 col-xs-12 padding0'\n  })))), __jsx(_JSXStyle, {\n    id: \"1747754318\"\n  }, [\".min-section.jsx-1747754318{background:white;background-image:url('../images/bkg-neutro.jpg') !important;background-attachment:fixed;background-repeat:no-repeat;background-size:cover;}\", \".btn.jsx-1747754318{background:white;margin:0px;padding:0px;}\", \".min-section.jsx-1747754318{max-height:900vh;min-height:80vh;overflow:auto;white-space:nowrap;}\", \".page-section.jsx-1747754318{max-height:100vh;}\"]));\n};\n\nexport default AgentView;","map":null,"metadata":{},"sourceType":"module"}