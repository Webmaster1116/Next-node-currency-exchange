{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useContext } from 'react';\nimport Axios from 'axios';\nimport Cookies from 'js-cookie';\nimport UserContext from '../../context/UserContext';\nimport banksList from '../../Data/BankList';\n\nconst BankAccountsEdit = props => {\n  const {\n    state\n  } = useContext(UserContext);\n  const {\n    0: bankList,\n    1: setBankList\n  } = useState(banksList);\n  const {\n    0: bankName,\n    1: setBankName\n  } = useState(props.data.bankName || bankList[0]);\n  const {\n    0: accountNumber,\n    1: setAccountNumber\n  } = useState(props.data.accountNumber || '');\n  const {\n    0: accountTypeOption,\n    1: setAccountTypeOption\n  } = useState(['Ahorros', 'Corriente']);\n  const {\n    0: accountType,\n    1: SetAccountType\n  } = useState(accountTypeOption[0]);\n  const {\n    0: currencyType,\n    1: setCurrencyType\n  } = useState(['Dollars', 'Soles']);\n  const {\n    0: nickname,\n    1: setNickname\n  } = useState('');\n  const {\n    0: currency,\n    1: setCurrency\n  } = useState(currencyType[0]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const body = {\n      bankName,\n      accountNumber,\n      type: accountType,\n      nickname: nickname,\n      currency: currency\n    }; // console.log('body', body);\n\n    const header = {\n      headers: {\n        'x-auth-token': Cookies.get('token')\n      }\n    }; // console.log(body);\n\n    if (props.request === 'add') {\n      const res = await Axios.post('https://api.moni.pe/api/accounts', body, header); // console.log('res of add:-', res);\n    } else if (props.request === 'edit') {\n      const res = await Axios.put('https://api.moni.pe/api/accounts/' + props.data._id, body, header); // console.log('res of edit:-', res);\n    }\n\n    props.handleShowEdit(props.state);\n  };\n\n  if (currency !== 'Bitcoin') {\n    return __jsx(\"div\", {\n      className: \"form-container w-100\"\n    }, __jsx(\"h2\", {\n      className: \"mb-5\"\n    }, \"Detalles de cuenta bancaria\"), __jsx(\"div\", {\n      className: \"row justify-content-center\"\n    }, __jsx(\"div\", {\n      className: \"col-md-4\"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"label\", null, \"N\\xFAmero de cuenta\"), __jsx(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"accountNumber\",\n      placeholder: \"N\\xFAmero de cuenta\",\n      id: \"accountNumber\",\n      value: accountNumber,\n      onChange: e => {\n        setAccountNumber(e.target.value);\n      }\n    }))), __jsx(\"div\", {\n      className: \"col-md-2\"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"label\", null, \"Tipo de cuenta\"), __jsx(\"select\", {\n      className: \"form-control\",\n      name: \"accountType\",\n      id: \"firstName\",\n      value: accountType,\n      onChange: e => {\n        SetAccountType(e.target.value);\n      }\n    }, accountTypeOption.map((type, index) => {\n      return __jsx(\"option\", {\n        key: index,\n        value: type\n      }, type);\n    }))))), __jsx(\"div\", {\n      className: \"row justify-content-center\"\n    }, __jsx(\"div\", {\n      className: \"col-md-2\"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"label\", null, \"Nombre del banco\"), __jsx(\"select\", {\n      className: \"form-control\",\n      name: \"accountType\",\n      id: \"firstName\",\n      value: bankName,\n      onChange: e => {\n        setBankName(e.target.value);\n      }\n    }, bankList.map((type, index) => {\n      return __jsx(\"option\", {\n        key: index,\n        value: type\n      }, type);\n    })))), __jsx(\"div\", {\n      className: \"\"\n    }), __jsx(\"div\", {\n      className: \"col-md-2\"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"label\", null, \"Due\\xF1o de cuenta\"), __jsx(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"nickname\",\n      placeholder: \"Due\\xF1o de cuenta\",\n      id: \"nickname\",\n      value: nickname,\n      onChange: e => {\n        setNickname(e.target.value);\n      }\n    }))), __jsx(\"div\", {\n      className: \"col-md-2\"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"label\", null, \"Tipo de moneda\"), __jsx(\"select\", {\n      className: \"form-control\",\n      name: \"currencyType\",\n      id: \"currency Type\",\n      value: currency,\n      onChange: e => {\n        setCurrency(e.target.value);\n      }\n    }, currencyType.map((type, index) => {\n      // console.log(type);\n      return __jsx(\"option\", {\n        key: index,\n        value: type\n      }, type);\n    }))))), __jsx(\"div\", {\n      className: \"mt-5\"\n    }, __jsx(\"button\", {\n      className: \"btn text-white\",\n      onClick: () => {\n        props.handleShowEdit(props.state);\n      }\n    }, \"Espalda\"), __jsx(\"button\", {\n      className: \"btn outline-btn ml-4\",\n      onClick: handleSubmit\n    }, \"Salvar\")));\n  } else {\n    return __jsx(\"div\", {\n      className: \"form-container w-100\"\n    }, __jsx(\"h2\", {\n      className: \"mb-5\"\n    }, \"Detalles de cuenta bancaria\"), __jsx(\"div\", {\n      className: \"row\"\n    }, __jsx(\"div\", {\n      className: \"col-md-4\"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"label\", null, \"Bitcoin Number\"), __jsx(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"accountNumber\",\n      placeholder: \"Bitcoin Number\",\n      id: \"accountNumber\",\n      value: accountNumber,\n      onChange: e => {\n        setAccountNumber(e.target.value);\n      }\n    })))), __jsx(\"div\", {\n      className: \"row\"\n    }, __jsx(\"div\", {\n      className: \"col-md-2\"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"label\", null, \"Tipo de moneda\"), __jsx(\"select\", {\n      className: \"form-control\",\n      name: \"currencyType\",\n      id: \"currency Type\",\n      value: currency,\n      onChange: e => {\n        setCurrency(e.target.value);\n      }\n    }, currencyType.map((type, index) => {\n      // console.log(type);\n      return __jsx(\"option\", {\n        key: index,\n        value: type\n      }, type);\n    }))))), __jsx(\"div\", {\n      className: \"mt-5\"\n    }, __jsx(\"button\", {\n      className: \"btn text-white\",\n      onClick: () => {\n        props.handleShowEdit(props.state);\n      }\n    }, \"Espalda\"), __jsx(\"button\", {\n      className: \"btn btn-dark\",\n      onClick: handleSubmit\n    }, \"Salvar\")));\n  }\n};\n\nexport default BankAccountsEdit;","map":null,"metadata":{},"sourceType":"module"}