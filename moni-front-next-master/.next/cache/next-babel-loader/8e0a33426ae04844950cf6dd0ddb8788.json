{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport Fetch from 'isomorphic-unfetch';\nimport Layout from '../components/Layout';\nimport Prices from '../components/Prices';\nimport Features from '../components/Features';\nimport Home from '../components/Home';\nimport Login from '../components/Login/Login';\nimport Footer from '../components/Footer';\nimport Banner from '../components/Banner';\nimport Subscribe from '../components/Subscribe';\nimport Steps from '../components/Steps';\nimport Cookies from 'js-cookie';\nimport Axios from 'axios';\nimport Navbar from '../components/Navbar';\nimport Home2 from '../components/Home2';\nimport Banner2 from '../components/Banner2';\nimport Function from '../components/Function';\nimport Data from '../components/Data';\nimport CreateAlert from '../components/CreateAlert';\nimport NewsLetter from '../components/NewsLetter';\nimport Footer2 from '../components/Footer2';\nimport Navbar2 from '../components/Navbar2';\nvar isServer = false;\nvar WOW = !isServer ? require('wowjs') : null;\nimport Head from 'next/head';\n\nvar Index = function Index(props) {\n  var coo = Cookies.get('token');\n  console.log('coo', coo);\n  useEffect(function () {\n    // wowjs init\n    // if (typeof window !== \"undefined\") {\n    //   window.WOW = wowjs;\n    // }\n    new WOW.WOW().init(); // const publicVapidKey =\n    //   \"BBzxUnsSFfJls1TkK3_3EPsOrN3iI05ZjUvB8fc03Vezvh2Bo39c3oV-sT0_x-bYCEgPAMgvbeLqrDgHTxYsCAA\";\n    // // Check for service worker\n    // if (\"serviceWorker\" in navigator) {\n    //   send().catch((err) => console.error(err));\n    // }\n    // // Register SW, Register Push, Send Push\n    // async function send() {\n    //   // Register Service Worker\n    //   console.log(\"Registering service worker...\");\n    //   const register = await navigator.serviceWorker.register(\"/sw.js\", {\n    //     scope: \"/\",\n    //   });\n    //   console.log(\"Service Worker Registered...\");\n    //   // Register Push\n    //   console.log(\"Registering Push...\");\n    //   const subscription = await register.pushManager.subscribe({\n    //     userVisibleOnly: true,\n    //     applicationServerKey: urlBase64ToUint8Array(publicVapidKey),\n    //   });\n    //   console.log(\"Push Registered...\", subscription);\n    //   // Send Push Notification\n    //   console.log(\"Sending Push...\");\n    //   await fetch(\"http://localhost:5000/api/notifications/subscribe\", {\n    //     method: \"POST\",\n    //     body: JSON.stringify(subscription),\n    //     headers: {\n    //       \"content-type\": \"application/json\",\n    //     },\n    //   });\n    //   console.log(\"Push Sent...\");\n    // }\n    // function urlBase64ToUint8Array(base64String) {\n    //   const padding = \"=\".repeat((4 - (base64String.length % 4)) % 4);\n    //   const base64 = (base64String + padding)\n    //     .replace(/\\-/g, \"+\")\n    //     .replace(/_/g, \"/\");\n    //   const rawData = window.atob(base64);\n    //   const outputArray = new Uint8Array(rawData.length);\n    //   for (let i = 0; i < rawData.length; ++i) {\n    //     outputArray[i] = rawData.charCodeAt(i);\n    //   }\n    //   return outputArray;\n    // }\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(Layout, null, __jsx(\"div\", {\n    className: \"appear-animate\"\n  }, __jsx(\"div\", {\n    className: \"page\",\n    id: \"top\"\n  }), __jsx(Home2, {\n    data: props\n  }), __jsx(Navbar2, null), __jsx(Banner2, null), __jsx(Function, null), __jsx(Data, null), __jsx(CreateAlert, null), __jsx(NewsLetter, null), __jsx(Footer2, null))));\n};\n\nIndex.getInitialProps = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n  var res, res2, res3, data, data2, data3;\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return Fetch('https://api.coindesk.com/v1/bpi/currentprice.json');\n\n        case 2:\n          res = _context.sent;\n          _context.next = 5;\n          return Fetch('https://api.moni.pe/api/exchange/calculate?originCurrency=USD&destinationCurrency=PEN&amount=1');\n\n        case 5:\n          res2 = _context.sent;\n          _context.next = 8;\n          return Fetch('https://api.moni.pe/api/exchange/calculate?originCurrency=PEN&destinationCurrency=USD&amount=1');\n\n        case 8:\n          res3 = _context.sent;\n          _context.next = 11;\n          return res.json();\n\n        case 11:\n          data = _context.sent;\n          _context.next = 14;\n          return res2.json();\n\n        case 14:\n          data2 = _context.sent;\n          _context.next = 17;\n          return res3.json();\n\n        case 17:\n          data3 = _context.sent;\n          return _context.abrupt(\"return\", {\n            soles: data2.rate,\n            usd: data3.rate,\n            savingsCompra: data2.ahorros,\n            savingsVenta: data3.ahorros,\n            bpi: data.bpi\n          });\n\n        case 19:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n}));\nexport default Index;","map":null,"metadata":{},"sourceType":"module"}