{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport Fetch from 'isomorphic-unfetch';\nimport Layout from '../components/Layout';\nimport Prices from '../components/Prices';\nimport Features from '../components/Features';\nimport Home from '../components/Home';\nimport Login from '../components/Login/Login';\nimport Footer from '../components/Footer';\nimport Banner from '../components/Banner';\nimport Subscribe from '../components/Subscribe';\nimport Steps from '../components/Steps';\nimport Cookies from 'js-cookie';\nimport Axios from 'axios';\nimport Navbar from '../components/Navbar';\nimport Home2 from '../components/Home2';\nimport Banner2 from '../components/Banner2';\nimport Function from '../components/Function';\nimport Data from '../components/Data';\nimport CreateAlert from '../components/CreateAlert';\nimport NewsLetter from '../components/NewsLetter';\nimport Footer2 from '../components/Footer2';\nimport Navbar2 from '../components/Navbar2';\nvar isServer = false;\nvar WOW = !isServer ? require('wowjs') : null;\nimport Head from 'next/head';\n\nvar Index = function Index(props) {\n  _s();\n\n  var coo = Cookies.get('token');\n  useEffect(function () {\n    // wowjs init\n    // if (typeof window !== \"undefined\") {\n    //   window.WOW = wowjs;\n    // }\n    new WOW.WOW().init(); // const publicVapidKey =\n    //   \"BBzxUnsSFfJls1TkK3_3EPsOrN3iI05ZjUvB8fc03Vezvh2Bo39c3oV-sT0_x-bYCEgPAMgvbeLqrDgHTxYsCAA\";\n    // // Check for service worker\n    // if (\"serviceWorker\" in navigator) {\n    //   send().catch((err) => console.error(err));\n    // }\n    // // Register SW, Register Push, Send Push\n    // async function send() {\n    //   // Register Service Worker\n    //   console.log(\"Registering service worker...\");\n    //   const register = await navigator.serviceWorker.register(\"/sw.js\", {\n    //     scope: \"/\",\n    //   });\n    //   console.log(\"Service Worker Registered...\");\n    //   // Register Push\n    //   console.log(\"Registering Push...\");\n    //   const subscription = await register.pushManager.subscribe({\n    //     userVisibleOnly: true,\n    //     applicationServerKey: urlBase64ToUint8Array(publicVapidKey),\n    //   });\n    //   console.log(\"Push Registered...\", subscription);\n    //   // Send Push Notification\n    //   console.log(\"Sending Push...\");\n    //   await fetch(\"http://localhost:5000/api/notifications/subscribe\", {\n    //     method: \"POST\",\n    //     body: JSON.stringify(subscription),\n    //     headers: {\n    //       \"content-type\": \"application/json\",\n    //     },\n    //   });\n    //   console.log(\"Push Sent...\");\n    // }\n    // function urlBase64ToUint8Array(base64String) {\n    //   const padding = \"=\".repeat((4 - (base64String.length % 4)) % 4);\n    //   const base64 = (base64String + padding)\n    //     .replace(/\\-/g, \"+\")\n    //     .replace(/_/g, \"/\");\n    //   const rawData = window.atob(base64);\n    //   const outputArray = new Uint8Array(rawData.length);\n    //   for (let i = 0; i < rawData.length; ++i) {\n    //     outputArray[i] = rawData.charCodeAt(i);\n    //   }\n    //   return outputArray;\n    // }\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(Layout, null, __jsx(\"div\", {\n    className: \"appear-animate\"\n  }, __jsx(\"div\", {\n    className: \"page\",\n    id: \"top\"\n  }), __jsx(Home2, {\n    data: props\n  }), __jsx(Navbar2, null), __jsx(Banner2, null), __jsx(Function, null), __jsx(Data, null), __jsx(CreateAlert, null), __jsx(NewsLetter, null), __jsx(Footer2, null))));\n};\n\n_s(Index, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Index;\nIndex.getInitialProps = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n  var res, res2, res3, data, data2, data3;\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return Fetch('https://api.coindesk.com/v1/bpi/currentprice.json');\n\n        case 2:\n          res = _context.sent;\n          _context.next = 5;\n          return Fetch('https://api.moni.pe/api/exchange/calculate?originCurrency=USD&destinationCurrency=PEN&amount=1');\n\n        case 5:\n          res2 = _context.sent;\n          _context.next = 8;\n          return Fetch('https://api.moni.pe/api/exchange/calculate?originCurrency=PEN&destinationCurrency=USD&amount=1');\n\n        case 8:\n          res3 = _context.sent;\n          _context.next = 11;\n          return res.json();\n\n        case 11:\n          data = _context.sent;\n          _context.next = 14;\n          return res2.json();\n\n        case 14:\n          data2 = _context.sent;\n          _context.next = 17;\n          return res3.json();\n\n        case 17:\n          data3 = _context.sent;\n          return _context.abrupt(\"return\", {\n            soles: data2.rate,\n            usd: data3.rate,\n            savingsCompra: data2.ahorros,\n            savingsVenta: data3.ahorros,\n            bpi: data.bpi\n          });\n\n        case 19:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n}));\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["E:/moni-front-next/pages/index.js"],"names":["React","useEffect","Fetch","Layout","Prices","Features","Home","Login","Footer","Banner","Subscribe","Steps","Cookies","Axios","Navbar","Home2","Banner2","Function","Data","CreateAlert","NewsLetter","Footer2","Navbar2","isServer","WOW","require","Head","Index","props","coo","get","init","getInitialProps","res","res2","res3","json","data","data2","data3","soles","rate","usd","savingsCompra","ahorros","savingsVenta","bpi"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport Fetch from 'isomorphic-unfetch';\r\nimport Layout from '../components/Layout';\r\nimport Prices from '../components/Prices';\r\nimport Features from '../components/Features';\r\nimport Home from '../components/Home';\r\nimport Login from '../components/Login/Login';\r\nimport Footer from '../components/Footer';\r\nimport Banner from '../components/Banner';\r\nimport Subscribe from '../components/Subscribe';\r\nimport Steps from '../components/Steps';\r\nimport Cookies from 'js-cookie';\r\nimport Axios from 'axios';\r\nimport Navbar from '../components/Navbar';\r\nimport Home2 from '../components/Home2';\r\nimport Banner2 from '../components/Banner2';\r\nimport Function from '../components/Function';\r\nimport Data from '../components/Data';\r\nimport CreateAlert from '../components/CreateAlert';\r\nimport NewsLetter from '../components/NewsLetter';\r\nimport Footer2 from '../components/Footer2';\r\nimport Navbar2 from '../components/Navbar2';\r\nconst isServer = typeof window === 'undefined';\r\nconst WOW = !isServer ? require('wowjs') : null;\r\nimport Head from 'next/head';\r\n\r\nconst Index = props => {\r\n\tconst coo = Cookies.get('token');\r\n\r\n\tuseEffect(() => {\r\n\t\t// wowjs init\r\n\t\t// if (typeof window !== \"undefined\") {\r\n\t\t//   window.WOW = wowjs;\r\n\t\t// }\r\n\r\n\t\tnew WOW.WOW().init();\r\n\t\t// const publicVapidKey =\r\n\t\t//   \"BBzxUnsSFfJls1TkK3_3EPsOrN3iI05ZjUvB8fc03Vezvh2Bo39c3oV-sT0_x-bYCEgPAMgvbeLqrDgHTxYsCAA\";\r\n\t\t// // Check for service worker\r\n\t\t// if (\"serviceWorker\" in navigator) {\r\n\t\t//   send().catch((err) => console.error(err));\r\n\t\t// }\r\n\t\t// // Register SW, Register Push, Send Push\r\n\t\t// async function send() {\r\n\t\t//   // Register Service Worker\r\n\t\t//   console.log(\"Registering service worker...\");\r\n\t\t//   const register = await navigator.serviceWorker.register(\"/sw.js\", {\r\n\t\t//     scope: \"/\",\r\n\t\t//   });\r\n\t\t//   console.log(\"Service Worker Registered...\");\r\n\t\t//   // Register Push\r\n\t\t//   console.log(\"Registering Push...\");\r\n\t\t//   const subscription = await register.pushManager.subscribe({\r\n\t\t//     userVisibleOnly: true,\r\n\t\t//     applicationServerKey: urlBase64ToUint8Array(publicVapidKey),\r\n\t\t//   });\r\n\t\t//   console.log(\"Push Registered...\", subscription);\r\n\t\t//   // Send Push Notification\r\n\t\t//   console.log(\"Sending Push...\");\r\n\t\t//   await fetch(\"http://localhost:5000/api/notifications/subscribe\", {\r\n\t\t//     method: \"POST\",\r\n\t\t//     body: JSON.stringify(subscription),\r\n\t\t//     headers: {\r\n\t\t//       \"content-type\": \"application/json\",\r\n\t\t//     },\r\n\t\t//   });\r\n\t\t//   console.log(\"Push Sent...\");\r\n\t\t// }\r\n\t\t// function urlBase64ToUint8Array(base64String) {\r\n\t\t//   const padding = \"=\".repeat((4 - (base64String.length % 4)) % 4);\r\n\t\t//   const base64 = (base64String + padding)\r\n\t\t//     .replace(/\\-/g, \"+\")\r\n\t\t//     .replace(/_/g, \"/\");\r\n\t\t//   const rawData = window.atob(base64);\r\n\t\t//   const outputArray = new Uint8Array(rawData.length);\r\n\t\t//   for (let i = 0; i < rawData.length; ++i) {\r\n\t\t//     outputArray[i] = rawData.charCodeAt(i);\r\n\t\t//   }\r\n\t\t//   return outputArray;\r\n\t\t// }\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{/* <Navbar /> */}\r\n\t\t\t{/* <Login /> */}\r\n\t\t\t{/* <Home data={props} /> */}\r\n\t\t\t<Layout>\r\n\t\t\t\t<div className='appear-animate'>\r\n\t\t\t\t\t{/* <div className=\"page-loader\">\r\n            <div className=\"loader\">Cargando...</div>\r\n          </div> */}\r\n\r\n\t\t\t\t\t<div className='page' id='top'></div>\r\n\t\t\t\t\t<Home2 data={props} />\r\n\t\t\t\t\t<Navbar2 />\r\n\t\t\t\t\t<Banner2 />\r\n\t\t\t\t\t<Function />\r\n\t\t\t\t\t<Data />\r\n\t\t\t\t\t<CreateAlert />\r\n\t\t\t\t\t<NewsLetter />\r\n\t\t\t\t\t<Footer2 />\r\n\t\t\t\t</div>\r\n\t\t\t</Layout>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nIndex.getInitialProps = async function () {\r\n\tconst res = await Fetch('https://api.coindesk.com/v1/bpi/currentprice.json');\r\n\tconst res2 = await Fetch(\r\n\t\t'https://api.moni.pe/api/exchange/calculate?originCurrency=USD&destinationCurrency=PEN&amount=1'\r\n\t);\r\n\tconst res3 = await Fetch(\r\n\t\t'https://api.moni.pe/api/exchange/calculate?originCurrency=PEN&destinationCurrency=USD&amount=1'\r\n\t);\r\n\t// const res2 = { USD_PEN: \"3.133\" };\r\n\t//testing\r\n\tconst data = await res.json();\r\n\t// const data2 = await res2.json();\r\n\tconst data2 = await res2.json();\r\n\tconst data3 = await res3.json();\r\n\treturn {\r\n\t\tsoles: data2.rate,\r\n\t\tusd: data3.rate,\r\n\t\tsavingsCompra: data2.ahorros,\r\n\t\tsavingsVenta: data3.ahorros,\r\n\t\tbpi: data.bpi,\r\n\t};\r\n};\r\n\r\nexport default Index;\r\n"]},"metadata":{},"sourceType":"module"}