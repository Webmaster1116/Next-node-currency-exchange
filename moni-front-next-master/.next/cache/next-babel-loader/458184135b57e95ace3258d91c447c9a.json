{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport Cookies from 'js-cookie';\nimport Axios from 'axios';\nimport AlertContext from '../../context/alert/alertContext';\nimport BankList from '../../Data/BankList';\n\nconst editAccount = async (token, body, id) => {\n  const header = {\n    headers: {\n      'x-auth-token': token\n    }\n  };\n  const res = await Axios.put('https://api.moni.pe/api/accounts/' + id, body, header); // console.log('res of edit:-', res);\n};\n\nconst deleteAccount = async (token, id) => {\n  const header = {\n    headers: {\n      'x-auth-token': token\n    }\n  };\n  const res = await Axios.delete('https://api.moni.pe/api/accounts/' + id, header); // console.log('res of edit:-', res);\n};\n\nconst Account = props => {\n  // console.log(props.data, ':::');\n  const {\n    0: bankName,\n    1: setBankName\n  } = useState({\n    name: props.data.bankName,\n    short: props.data.bankShort\n  } || BankList[0]);\n  const {\n    0: id,\n    1: setId\n  } = useState(props.data._id || '');\n  const {\n    0: accountNumber,\n    1: setAccountNumber\n  } = useState(props.data.accountNumber || '');\n  const {\n    0: accountTypeOption,\n    1: setAccountTypeOption\n  } = useState(['Ahorros', 'Corriente']);\n  const {\n    0: accountType,\n    1: SetAccountType\n  } = useState(props.data.type || accountTypeOption[0]);\n  const {\n    0: currencyType,\n    1: setCurrencyType\n  } = useState(['Dollars', 'Soles']);\n  const {\n    0: nickname,\n    1: setNickname\n  } = useState(props.data.nickname || '');\n  const {\n    0: currency,\n    1: setCurrency\n  } = useState(props.data.currency || currencyType[0]);\n  const {\n    0: bankUser,\n    1: setBankUser\n  } = useState(props.data.bankUser || '');\n  const {\n    0: displayClass,\n    1: setDisplay\n  } = useState(false);\n  const token = Cookies.get('token');\n\n  const handleBankEdit = async (e, id) => {\n    e.preventDefault();\n    const body = {\n      bankName: bankName.name,\n      bankShort: bankName.short,\n      accountNumber,\n      type: accountType,\n      nickname,\n      currency: currency,\n      bankUser\n    }; // console.log(body);\n    // console.log(id);\n\n    const res = await editAccount(token, body, id);\n    window.location.reload();\n  };\n\n  const handleBankDelete = async (e, id) => {\n    e.preventDefault();\n    const res = await deleteAccount(token, id);\n    window.location.reload();\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"dt\", {\n    className: \"jsx-4098443570\"\n  }, __jsx(\"a\", {\n    className: \"jsx-4098443570\"\n  }, __jsx(\"button\", {\n    onClick: e => {\n      e.preventDefault();\n      setDisplay(!displayClass);\n    },\n    className: \"jsx-4098443570\" + \" \" + 'btn-a'\n  }, nickname || '-'))), __jsx(\"dd\", {\n    style: displayClass ? {\n      display: 'block'\n    } : {\n      display: 'none'\n    },\n    className: \"jsx-4098443570\" + \" \" + 'mb-30'\n  }, __jsx(\"div\", {\n    className: \"jsx-4098443570\" + \" \" + 'container padding0'\n  }, __jsx(\"div\", {\n    className: \"jsx-4098443570\" + \" \" + 'col-md-4 col-xs-12 padding0'\n  }, __jsx(\"h5\", {\n    className: \"jsx-4098443570\" + \" \" + 'black bold mb-10'\n  }, \"Tipo de cuenta\"), __jsx(\"select\", {\n    onChange: e => {\n      SetAccountType(e.target.value);\n    },\n    disabled: \"\",\n    className: \"jsx-4098443570\" + \" \" + 'input-sm'\n  }, __jsx(\"option\", {\n    selected: true,\n    className: \"jsx-4098443570\"\n  }, accountType), accountTypeOption.map((country, index) => {\n    return __jsx(\"option\", {\n      key: index,\n      value: country,\n      className: \"jsx-4098443570\"\n    }, country);\n  }), ' '), __jsx(\"h5\", {\n    className: \"jsx-4098443570\" + \" \" + 'black bold mb-10 mt-20'\n  }, \"Moneda\"), __jsx(\"select\", {\n    onChange: e => {\n      setCurrency(e.target.value);\n    },\n    disabled: \"\",\n    className: \"jsx-4098443570\" + \" \" + 'input-sm'\n  }, __jsx(\"option\", {\n    selected: true,\n    className: \"jsx-4098443570\"\n  }, currency), currencyType.map((country, index) => {\n    return __jsx(\"option\", {\n      key: index,\n      value: country,\n      className: \"jsx-4098443570\"\n    }, country);\n  }), ' '), __jsx(\"h5\", {\n    className: \"jsx-4098443570\" + \" \" + 'black bold mb-10  mt-20'\n  }, \"Nombre para recordar mi cuenta\"), __jsx(\"input\", {\n    type: \"text\",\n    onChange: e => {\n      setNickname(e.target.value);\n    },\n    class: \"input-sm\",\n    placeholder: \"BBVA Soles\",\n    pattern: \".{3,100}\",\n    disabled: \"\",\n    value: nickname,\n    className: \"jsx-4098443570\"\n  })), __jsx(\"div\", {\n    className: \"jsx-4098443570\" + \" \" + 'col-md-1 col-xs-12 padding0'\n  }), __jsx(\"div\", {\n    className: \"jsx-4098443570\" + \" \" + 'col-md-6 col-xs-12 padding0'\n  }, __jsx(\"h5\", {\n    className: \"jsx-4098443570\" + \" \" + 'black bold mb-10  mt-20'\n  }, \"Banco\"), __jsx(\"select\", {\n    onChange: e => {\n      setBankName(JSON.parse(e.target.value));\n    },\n    disabled: \"\",\n    className: \"jsx-4098443570\" + \" \" + 'input-sm'\n  }, __jsx(\"option\", {\n    selected: true,\n    className: \"jsx-4098443570\"\n  }, bankName.name), BankList.map((bank, index) => {\n    return __jsx(\"option\", {\n      key: index,\n      value: JSON.stringify(bank),\n      className: \"jsx-4098443570\"\n    }, bank.name);\n  }), ' '), __jsx(\"h5\", {\n    className: \"jsx-4098443570\" + \" \" + 'black bold mb-10  mt-20'\n  }, \"N\\xFAmero de cuenta\"), __jsx(\"input\", {\n    type: \"text\",\n    onChange: e => {\n      setAccountNumber(e.target.value);\n    },\n    class: \"input-sm\",\n    placeholder: \"001101520200382495\",\n    pattern: \".{3,100}\",\n    disabled: \"\",\n    value: accountNumber,\n    className: \"jsx-4098443570\"\n  }), __jsx(\"h5\", {\n    className: \"jsx-4098443570\" + \" \" + 'black bold mb-10  mt-20'\n  }, \"Nombre de la cuenta bancaria\"), __jsx(\"input\", {\n    type: \"text\",\n    onChange: e => {\n      setBankUser(e.target.value);\n    },\n    class: \"input-sm\",\n    placeholder: \"nombre\",\n    disabled: \"\",\n    value: bankUser,\n    className: \"jsx-4098443570\"\n  }), __jsx(\"div\", {\n    className: \"jsx-4098443570\" + \" \" + 'col-md-6 col-xs-12 mt-30 padding0'\n  }, __jsx(\"button\", {\n    onClick: e => handleBankEdit(e, id),\n    className: \"jsx-4098443570\" + \" \" + 'btn btn-mod btn-border-w btn-circle btn-alerta'\n  }, __jsx(\"i\", {\n    className: \"jsx-4098443570\" + \" \" + 'fa fa-edit fa-2x'\n  }), \" Actualizar\")), __jsx(\"div\", {\n    className: \"jsx-4098443570\" + \" \" + 'col-md-6 col-xs-12 mt-30 padding0'\n  }, __jsx(\"button\", {\n    onClick: e => handleBankDelete(e, id),\n    className: \"jsx-4098443570\" + \" \" + 'btn btn-mod btn-color btn-large btn-circle'\n  }, __jsx(\"i\", {\n    className: \"jsx-4098443570\" + \" \" + 'fa  fa-times fa-2x'\n  }), \" Eliminar\"))))), __jsx(_JSXStyle, {\n    id: \"4098443570\"\n  }, [\".btn-a.jsx-4098443570{background:transparent;color:#333;font-size:22px;font-weight:600;border:none;}\", \"input.jsx-4098443570{width:100%;height:50px;padding-left:25px;padding-right:13px;font-size:15px;border-radius:45px;color:#333;border:2px solid #e55729;border-top-color:rgb(229,87,41);border-right-color:rgb(229,87,41);border-bottom-color:rgb(229,87,41);border-left-color:rgb(229,87,41);text-transform:none;background:transparent;}\"]));\n};\n\nexport default Account;","map":null,"metadata":{},"sourceType":"module"}