{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Axios from 'axios';\nvar UserContext = React.createContext();\nexport var Provider = function Provider(props) {\n  _s();\n\n  var _useState = useState({\n    token: '',\n    userName: '',\n    isLogin: false,\n    id: ''\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var addToken = function addToken(token) {\n    var newState = state;\n    newState.token = token;\n    setState(newState);\n  };\n\n  var addName = function addName(userName) {\n    var newState = state;\n    newState.userName = userName;\n    newState.isLogin = true;\n    setState(newState);\n  };\n\n  var isUserAuth = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(token) {\n      var header, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              header = {\n                headers: {\n                  'x-auth-token': token\n                }\n              };\n              res = Axios.get('https://api.moni.pe/api/auth', header);\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function isUserAuth(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(UserContext.Provider, {\n    value: {\n      state: state,\n      addToken: addToken,\n      isUserAuth: isUserAuth,\n      addName: addName\n    }\n  }, props.children);\n};\n\n_s(Provider, \"9I+m1l1hr3+XtpzXzBtReORmMLw=\");\n\n_c = Provider;\nexport var Consumer = UserContext.Consumer;\nexport default UserContext;\n\nvar _c;\n\n$RefreshReg$(_c, \"Provider\");","map":{"version":3,"sources":["E:/moni-front-next/context/UserContext.js"],"names":["React","useState","Axios","UserContext","createContext","Provider","props","token","userName","isLogin","id","state","setState","addToken","newState","addName","isUserAuth","header","headers","res","get","children","Consumer"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,WAAW,GAAGH,KAAK,CAACI,aAAN,EAApB;AAEA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAC,KAAK,EAAI;AAAA;;AAAA,kBACNL,QAAQ,CAAC;AAClCM,IAAAA,KAAK,EAAE,EAD2B;AAElCC,IAAAA,QAAQ,EAAE,EAFwB;AAGlCC,IAAAA,OAAO,EAAE,KAHyB;AAIlCC,IAAAA,EAAE,EAAE;AAJ8B,GAAD,CADF;AAAA,MACzBC,KADyB;AAAA,MAClBC,QADkB;;AAQhC,MAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAN,KAAK,EAAI;AACzB,QAAMO,QAAQ,GAAGH,KAAjB;AACAG,IAAAA,QAAQ,CAACP,KAAT,GAAiBA,KAAjB;AACAK,IAAAA,QAAQ,CAACE,QAAD,CAAR;AACA,GAJD;;AAMA,MAAMC,OAAO,GAAG,SAAVA,OAAU,CAAAP,QAAQ,EAAI;AAC3B,QAAMM,QAAQ,GAAGH,KAAjB;AACAG,IAAAA,QAAQ,CAACN,QAAT,GAAoBA,QAApB;AACAM,IAAAA,QAAQ,CAACL,OAAT,GAAmB,IAAnB;AACAG,IAAAA,QAAQ,CAACE,QAAD,CAAR;AACA,GALD;;AAOA,MAAME,UAAU;AAAA,wEAAG,iBAAMT,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACZU,cAAAA,MADY,GACH;AACdC,gBAAAA,OAAO,EAAE;AACR,kCAAgBX;AADR;AADK,eADG;AAOZY,cAAAA,GAPY,GAONjB,KAAK,CAACkB,GAAN,CAAU,8BAAV,EAA0CH,MAA1C,CAPM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAVD,UAAU;AAAA;AAAA;AAAA,KAAhB;;AAUA,SACC,MAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAAEL,MAAAA,KAAK,EAALA,KAAF;AAASE,MAAAA,QAAQ,EAARA,QAAT;AAAmBG,MAAAA,UAAU,EAAVA,UAAnB;AAA+BD,MAAAA,OAAO,EAAPA;AAA/B;AAA7B,KACET,KAAK,CAACe,QADR,CADD;AAKA,CApCM;;GAAMhB,Q;;KAAAA,Q;AAqCb,OAAO,IAAMiB,QAAQ,GAAGnB,WAAW,CAACmB,QAA7B;AAEP,eAAenB,WAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport Axios from 'axios';\r\n\r\nconst UserContext = React.createContext();\r\n\r\nexport const Provider = props => {\r\n\tconst [state, setState] = useState({\r\n\t\ttoken: '',\r\n\t\tuserName: '',\r\n\t\tisLogin: false,\r\n\t\tid: '',\r\n\t});\r\n\r\n\tconst addToken = token => {\r\n\t\tconst newState = state;\r\n\t\tnewState.token = token;\r\n\t\tsetState(newState);\r\n\t};\r\n\r\n\tconst addName = userName => {\r\n\t\tconst newState = state;\r\n\t\tnewState.userName = userName;\r\n\t\tnewState.isLogin = true;\r\n\t\tsetState(newState);\r\n\t};\r\n\r\n\tconst isUserAuth = async token => {\r\n\t\tconst header = {\r\n\t\t\theaders: {\r\n\t\t\t\t'x-auth-token': token,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst res = Axios.get('https://api.moni.pe/api/auth', header);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<UserContext.Provider value={{ state, addToken, isUserAuth, addName }}>\r\n\t\t\t{props.children}\r\n\t\t</UserContext.Provider>\r\n\t);\r\n};\r\nexport const Consumer = UserContext.Consumer;\r\n\r\nexport default UserContext;\r\n"]},"metadata":{},"sourceType":"module"}