{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Axios from 'axios';\nimport Cookies from 'js-cookie';\nimport moment from 'moment';\n\nconst getAgentProfile = async (token, id) => {\n  const header = {\n    headers: {\n      'x-auth-token': token\n    }\n  };\n  const resProfile = await Axios.get('https://api.moni.pe/api/agentprofile/' + id, header); // console.log(resProfile.data[0]);\n\n  return resProfile.data[0];\n};\n\nconst EditAgentPopup = props => {\n  const {\n    0: margintop,\n    1: setMargintop\n  } = useState(`${window.scrollY + 30}px`);\n  const {\n    0: agentProfile,\n    1: setAgentProfile\n  } = useState('');\n  const {\n    0: firstName,\n    1: setFirstName\n  } = useState('');\n  const {\n    0: lastName,\n    1: setLastName\n  } = useState('');\n  const {\n    0: email,\n    1: setEmail\n  } = useState('');\n  const {\n    0: phone,\n    1: setPhone\n  } = useState('');\n  const {\n    0: accountType,\n    1: setAccountType\n  } = useState('');\n  const {\n    0: ruc,\n    1: setRuc\n  } = useState('');\n  const {\n    0: address,\n    1: setAddress\n  } = useState('');\n  const {\n    0: companyName,\n    1: setCompanyName\n  } = useState('');\n  const {\n    0: dni,\n    1: setDni\n  } = useState('');\n  const {\n    0: profileId,\n    1: setProfileId\n  } = useState('');\n\n  const listenScrollEvent = e => {\n    if (window.scrollY > 50) {\n      setMargintop(`${window.scrollY + 50}px`);\n    } else {\n      setMargintop(`${window.scrollY + 50}px`);\n    }\n  };\n\n  const init = async () => {\n    const data = await getAgentProfile(Cookies.get('adminToken'), props.agent._id);\n    setProfileId(data._id);\n    setAccountType(data.accountType);\n    setAgentProfile(data);\n    setFirstName(data.firstName);\n    setLastName(data.lastName);\n    setEmail(data.email);\n    setPhone(data.phone);\n    setRuc(data.ruc);\n    setAddress(data.address);\n    setCompanyName(data.companyName);\n    setDni(data.dni);\n  };\n\n  useEffect(() => {\n    window.addEventListener('scroll', listenScrollEvent);\n    init();\n  }, []); // console.log(props.agent);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const id = props.agent._id;\n    const body = {\n      firstName,\n      lastName,\n      email,\n      phone,\n      dni,\n      accountType,\n      companyName,\n      ruc,\n      address\n    };\n    const header = {\n      headers: {\n        'x-auth-token': Cookies.get('adminToken')\n      }\n    }; // console.log(body, id, Cookies.get('adminToken'));\n\n    const res = await Axios.put('https://api.moni.pe/api/agentprofile/' + id, body, header); // console.log('res:-', res);\n\n    props.setEditAgentPopup(false);\n  };\n\n  if (agentProfile === '') {\n    return __jsx(\"div\", {\n      className: \"loader\"\n    });\n  }\n\n  return __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'div-custom shadow-custom round container'\n  }, __jsx(\"button\", {\n    onClick: e => {\n      props.setEditAgentPopup(false);\n    },\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'btn btn-custom'\n  }, __jsx(\"i\", {\n    style: {\n      position: 'absolute',\n      right: '5%'\n    },\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'fa fa-times'\n  })), __jsx(\"h2\", {\n    style: {\n      marginTop: '0'\n    },\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'text-center orange mb-20'\n  }, \"Editar agente\"), __jsx(\"form\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'form-normal'\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'container align-left'\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'col-md-5 col-xs-12 padding0'\n  }, accountType === 'Personal' ? '' : __jsx(React.Fragment, null, __jsx(\"h5\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'black bold mb-10  mt-10'\n  }, __jsx(\"span\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'orange'\n  }, \"*\"), \" Nombre de empresa\"), __jsx(\"input\", {\n    type: \"text\",\n    onChange: e => {\n      setCompanyName(e.target.value);\n    },\n    placeholder: \"nombre de empresa\",\n    pattern: \".{3,100}\",\n    value: companyName,\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'input-sm'\n  })), __jsx(\"h5\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'black bold mb-10  mt-20'\n  }, __jsx(\"span\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'orange'\n  }, \"*\"), \" Primer nombre\"), __jsx(\"input\", {\n    type: \"text\",\n    onChange: e => {\n      setFirstName(e.target.value);\n    },\n    placeholder: \"Nombre\",\n    pattern: \".{3,100}\",\n    value: firstName,\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'input-sm'\n  }), __jsx(\"h5\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'black bold mb-10  mt-20'\n  }, __jsx(\"span\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'orange'\n  }, \"*\"), \" Apellido paterno\"), __jsx(\"input\", {\n    type: \"text\",\n    onChange: e => {\n      setLastName(e.target.value);\n    },\n    placeholder: \"Apellido Paterno\",\n    pattern: \".{3,100}\",\n    value: lastName,\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'input-sm'\n  }), __jsx(React.Fragment, null, __jsx(\"h5\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'black bold mb-10  mt-20'\n  }, \"Direcci\\xF3n\"), __jsx(\"input\", {\n    type: \"text\",\n    onChange: e => {\n      setAddress(e.target.value);\n    },\n    placeholder: \"Direcci\\xF3n                  \",\n    disabled: \"\",\n    value: address,\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'input-sm'\n  })), __jsx(\"h5\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'black bold mb-10  mt-20'\n  }, \"Email\"), __jsx(\"input\", {\n    type: \"text\",\n    onChange: e => {\n      setEmail(e.target.value);\n    },\n    placeholder: \"correo@usuario.com\",\n    pattern: \".{3,100}\",\n    disabled: true,\n    value: email,\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'input-sm'\n  })), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'col-md-1 col-xs-12 padding0'\n  }), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'col-md-5 col-xs-12 padding0'\n  }, __jsx(\"h5\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'black bold mb-10'\n  }, __jsx(\"span\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'orange'\n  }, \"*\"), \" N\\xBA de documento\"), __jsx(\"input\", {\n    type: \"text\",\n    onChange: e => {\n      setDni(e.target.value);\n    },\n    placeholder: \"N\\xB0 de documento\",\n    pattern: \".{3,100}\",\n    disabled: \"\",\n    value: dni,\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'input-sm'\n  }), __jsx(\"h5\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'black bold mb-10 mt-20'\n  }, __jsx(\"span\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'orange'\n  }, \"*\"), \" N\\xFAmero telef\\xF3nico\"), __jsx(\"input\", {\n    type: \"text\",\n    onChange: e => {\n      setPhone(e.target.value);\n    },\n    placeholder: \"Telefono\",\n    pattern: \".{3,100}\",\n    value: phone,\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'input-sm'\n  }), __jsx(\"h5\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'black bold mb-10 mt-20'\n  }, __jsx(\"span\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'orange'\n  }, \"*\"), \" Tipo de Perfil\", ' '), __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"Tipo de Perfil\",\n    pattern: \".{3,100}\",\n    value: accountType,\n    disabled: true,\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'input-sm'\n  }), accountType === 'Personal' ? '' : __jsx(React.Fragment, null, __jsx(\"h5\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'black bold mb-10 mt-20'\n  }, \"R.U.C\"), __jsx(\"input\", {\n    type: \"text\",\n    onChange: e => {\n      setRuc(e.target.value);\n    },\n    placeholder: \"ruc\",\n    pattern: \".{3,100}\",\n    value: ruc,\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'input-sm'\n  })))), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'row mt-20'\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'col-md-2 col-xs-12 padding0 mt-xs-20 mb-xs-20 mt-30'\n  }), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'col-md-4 col-xs-12 padding0 mt-xs-20 mb-xs-20 mt-30'\n  }, __jsx(\"button\", {\n    style: {\n      padding: '15px',\n      width: '100%'\n    },\n    onClick: e => {\n      e.preventDefault();\n      props.setEditAgentPopup(false);\n    },\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'btn btn-mod btn-border-w btn-large btn-circle'\n  }, \"Cancelar\")), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'col-md-4 col-xs-12 padding0 mt-xs-20 mb-xs-20 mt-30'\n  }, __jsx(\"button\", {\n    style: {\n      padding: '15px',\n      width: '100%'\n    },\n    onClick: e => {\n      e.preventDefault();\n      handleSubmit(e); // props.handleShowEdit(props.state);\n    },\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'btn btn-mod btn-color btn-large btn-circle'\n  }, \"Editar\")))), __jsx(_JSXStyle, {\n    id: \"962568340\",\n    dynamic: [margintop]\n  }, [`.div-custom.__jsx-style-dynamic-selector{position:absolute;top:${margintop};z-index:9999999999 !important;left:20%;background:white;padding:3em;padding-top:0.5em;margin-left:-150px;}`, \"p.__jsx-style-dynamic-selector{margin:2px;}\", \".mr-4.__jsx-style-dynamic-selector{margin-right:5px;}\", \".pt-0.__jsx-style-dynamic-selector{padding-top:6px !important;padding-bottom:5px !important;}\", \".mt-2.__jsx-style-dynamic-selector{margin-top:3em;}\", \".shadow-custom.__jsx-style-dynamic-selector{box-shadow:1px 1px 20px rgba(0,0,0,0.12) !important;border-radius:25px !important;}\", \".input-cust.__jsx-style-dynamic-selector{border:none;border-bottom:solid;border-width:1px;}\", \".btn-custom.__jsx-style-dynamic-selector{background:transparent;}\", \".btn-img.__jsx-style-dynamic-selector{background:transparent;margin:0px;padding:0px;}\", \"span.__jsx-style-dynamic-selector{margin:2px;}\", \"p.__jsx-style-dynamic-selector,span.__jsx-style-dynamic-selector{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}\"]));\n};\n\nexport default EditAgentPopup;","map":null,"metadata":{},"sourceType":"module"}