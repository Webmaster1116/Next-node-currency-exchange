{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Axios from 'axios';\nimport Cookies from 'js-cookie';\nimport moment from 'moment';\n\nvar getAgentProfile = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(token, id) {\n    var header, resProfile;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            header = {\n              headers: {\n                'x-auth-token': token\n              }\n            };\n            _context.next = 3;\n            return Axios.get('https://api.moni.pe/api/agentprofile/' + id, header);\n\n          case 3:\n            resProfile = _context.sent;\n            console.log(resProfile.data[0]);\n            return _context.abrupt(\"return\", resProfile.data[0]);\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function getAgentProfile(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar EditAgentPopup = function EditAgentPopup(props) {\n  var _useState = useState(\"\".concat(window.scrollY + 30, \"px\")),\n      margintop = _useState[0],\n      setMargintop = _useState[1];\n\n  var _useState2 = useState(''),\n      agentProfile = _useState2[0],\n      setAgentProfile = _useState2[1];\n\n  var _useState3 = useState(''),\n      firstName = _useState3[0],\n      setFirstName = _useState3[1];\n\n  var _useState4 = useState(''),\n      lastName = _useState4[0],\n      setLastName = _useState4[1];\n\n  var _useState5 = useState(''),\n      email = _useState5[0],\n      setEmail = _useState5[1];\n\n  var _useState6 = useState(''),\n      phone = _useState6[0],\n      setPhone = _useState6[1];\n\n  var _useState7 = useState(''),\n      accountType = _useState7[0],\n      setAccountType = _useState7[1];\n\n  var _useState8 = useState(''),\n      ruc = _useState8[0],\n      setRuc = _useState8[1];\n\n  var _useState9 = useState(''),\n      address = _useState9[0],\n      setAddress = _useState9[1];\n\n  var _useState10 = useState(''),\n      companyName = _useState10[0],\n      setCompanyName = _useState10[1];\n\n  var _useState11 = useState(''),\n      dni = _useState11[0],\n      setDni = _useState11[1];\n\n  var _useState12 = useState(''),\n      profileId = _useState12[0],\n      setProfileId = _useState12[1];\n\n  var listenScrollEvent = function listenScrollEvent(e) {\n    if (window.scrollY > 50) {\n      setMargintop(\"\".concat(window.scrollY + 50, \"px\"));\n    } else {\n      setMargintop(\"\".concat(window.scrollY + 50, \"px\"));\n    }\n  };\n\n  var init = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return getAgentProfile(Cookies.get('adminToken'), props.agent._id);\n\n            case 2:\n              data = _context2.sent;\n              setProfileId(data._id);\n              setAccountType(data.accountType);\n              setAgentProfile(data);\n              setFirstName(data.firstName);\n              setLastName(data.lastName);\n              setEmail(data.email);\n              setPhone(data.phone);\n              setRuc(data.ruc);\n              setAddress(data.address);\n              setCompanyName(data.companyName);\n              setDni(data.dni);\n\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function init() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    window.addEventListener('scroll', listenScrollEvent);\n    init();\n  }, []);\n  console.log(props.agent);\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e) {\n      var id, body, header, res;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              e.preventDefault();\n              id = props.agent._id;\n              body = {\n                firstName: firstName,\n                lastName: lastName,\n                email: email,\n                phone: phone,\n                dni: dni,\n                accountType: accountType,\n                companyName: companyName,\n                ruc: ruc,\n                address: address\n              };\n              header = {\n                headers: {\n                  'x-auth-token': Cookies.get('adminToken')\n                }\n              };\n              console.log(body, id, Cookies.get('adminToken'));\n              _context3.next = 7;\n              return Axios.put('https://api.moni.pe/api/agentprofile/' + id, body, header);\n\n            case 7:\n              res = _context3.sent;\n              console.log('res:-', res);\n              props.setEditAgentPopup(false);\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleSubmit(_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  if (agentProfile === '') {\n    return __jsx(\"div\", {\n      className: \"loader\"\n    });\n  }\n\n  return __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'div-custom shadow-custom round container'\n  }, __jsx(\"button\", {\n    onClick: function onClick(e) {\n      props.setEditAgentPopup(false);\n    },\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'btn btn-custom'\n  }, __jsx(\"i\", {\n    style: {\n      position: 'absolute',\n      right: '5%'\n    },\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'fa fa-times'\n  })), __jsx(\"h2\", {\n    style: {\n      marginTop: '0'\n    },\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'text-center orange mb-20'\n  }, \"Editar agente\"), __jsx(\"form\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'form-normal'\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'container align-left'\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'col-md-5 col-xs-12 padding0'\n  }, accountType === 'Personal' ? '' : __jsx(React.Fragment, null, __jsx(\"h5\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'black bold mb-10  mt-10'\n  }, __jsx(\"span\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'orange'\n  }, \"*\"), \" Nombre de empresa\"), __jsx(\"input\", {\n    type: \"text\",\n    onChange: function onChange(e) {\n      setCompanyName(e.target.value);\n    },\n    placeholder: \"nombre de empresa\",\n    pattern: \".{3,100}\",\n    value: companyName,\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'input-sm'\n  })), __jsx(\"h5\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'black bold mb-10  mt-20'\n  }, __jsx(\"span\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'orange'\n  }, \"*\"), \" Primer nombre\"), __jsx(\"input\", {\n    type: \"text\",\n    onChange: function onChange(e) {\n      setFirstName(e.target.value);\n    },\n    placeholder: \"Nombre\",\n    pattern: \".{3,100}\",\n    value: firstName,\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'input-sm'\n  }), __jsx(\"h5\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'black bold mb-10  mt-20'\n  }, __jsx(\"span\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'orange'\n  }, \"*\"), \" Apellido paterno\"), __jsx(\"input\", {\n    type: \"text\",\n    onChange: function onChange(e) {\n      setLastName(e.target.value);\n    },\n    placeholder: \"Apellido Paterno\",\n    pattern: \".{3,100}\",\n    value: lastName,\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'input-sm'\n  }), __jsx(React.Fragment, null, __jsx(\"h5\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'black bold mb-10  mt-20'\n  }, \"Direcci\\xF3n\"), __jsx(\"input\", {\n    type: \"text\",\n    onChange: function onChange(e) {\n      setAddress(e.target.value);\n    },\n    placeholder: \"Direcci\\xF3n                  \",\n    disabled: \"\",\n    value: address,\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'input-sm'\n  })), __jsx(\"h5\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'black bold mb-10  mt-20'\n  }, \"Email\"), __jsx(\"input\", {\n    type: \"text\",\n    onChange: function onChange(e) {\n      setEmail(e.target.value);\n    },\n    placeholder: \"correo@usuario.com\",\n    pattern: \".{3,100}\",\n    disabled: true,\n    value: email,\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'input-sm'\n  })), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'col-md-1 col-xs-12 padding0'\n  }), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'col-md-5 col-xs-12 padding0'\n  }, __jsx(\"h5\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'black bold mb-10'\n  }, __jsx(\"span\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'orange'\n  }, \"*\"), \" N\\xBA de documento\"), __jsx(\"input\", {\n    type: \"text\",\n    onChange: function onChange(e) {\n      setDni(e.target.value);\n    },\n    placeholder: \"N\\xB0 de documento\",\n    pattern: \".{3,100}\",\n    disabled: \"\",\n    value: dni,\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'input-sm'\n  }), __jsx(\"h5\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'black bold mb-10 mt-20'\n  }, __jsx(\"span\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'orange'\n  }, \"*\"), \" N\\xFAmero telef\\xF3nico\"), __jsx(\"input\", {\n    type: \"text\",\n    onChange: function onChange(e) {\n      setPhone(e.target.value);\n    },\n    placeholder: \"Telefono\",\n    pattern: \".{3,100}\",\n    value: phone,\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'input-sm'\n  }), __jsx(\"h5\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'black bold mb-10 mt-20'\n  }, __jsx(\"span\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'orange'\n  }, \"*\"), \" Tipo de Perfil\", ' '), __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"Tipo de Perfil\",\n    pattern: \".{3,100}\",\n    value: accountType,\n    disabled: true,\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'input-sm'\n  }), accountType === 'Personal' ? '' : __jsx(React.Fragment, null, __jsx(\"h5\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'black bold mb-10 mt-20'\n  }, \"R.U.C\"), __jsx(\"input\", {\n    type: \"text\",\n    onChange: function onChange(e) {\n      setRuc(e.target.value);\n    },\n    placeholder: \"ruc\",\n    pattern: \".{3,100}\",\n    value: ruc,\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'input-sm'\n  })))), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'row mt-20'\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'col-md-2 col-xs-12 padding0 mt-xs-20 mb-xs-20 mt-30'\n  }), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'col-md-4 col-xs-12 padding0 mt-xs-20 mb-xs-20 mt-30'\n  }, __jsx(\"button\", {\n    style: {\n      padding: '15px',\n      width: '100%'\n    },\n    onClick: function onClick(e) {\n      e.preventDefault();\n      props.setEditAgentPopup(false);\n    },\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'btn btn-mod btn-border-w btn-large btn-circle'\n  }, \"Cancelar\")), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'col-md-4 col-xs-12 padding0 mt-xs-20 mb-xs-20 mt-30'\n  }, __jsx(\"button\", {\n    style: {\n      padding: '15px',\n      width: '100%'\n    },\n    onClick: function onClick(e) {\n      e.preventDefault();\n      handleSubmit(e); // props.handleShowEdit(props.state);\n    },\n    className: _JSXStyle.dynamic([[\"962568340\", [margintop]]]) + \" \" + 'btn btn-mod btn-color btn-large btn-circle'\n  }, \"Editar\")))), __jsx(_JSXStyle, {\n    id: \"962568340\",\n    dynamic: [margintop]\n  }, [\".div-custom.__jsx-style-dynamic-selector{position:absolute;top:\".concat(margintop, \";z-index:9999999999 !important;left:20%;background:white;padding:3em;padding-top:0.5em;margin-left:-150px;}\"), \"p.__jsx-style-dynamic-selector{margin:2px;}\", \".mr-4.__jsx-style-dynamic-selector{margin-right:5px;}\", \".pt-0.__jsx-style-dynamic-selector{padding-top:6px !important;padding-bottom:5px !important;}\", \".mt-2.__jsx-style-dynamic-selector{margin-top:3em;}\", \".shadow-custom.__jsx-style-dynamic-selector{box-shadow:1px 1px 20px rgba(0,0,0,0.12) !important;border-radius:25px !important;}\", \".input-cust.__jsx-style-dynamic-selector{border:none;border-bottom:solid;border-width:1px;}\", \".btn-custom.__jsx-style-dynamic-selector{background:transparent;}\", \".btn-img.__jsx-style-dynamic-selector{background:transparent;margin:0px;padding:0px;}\", \"span.__jsx-style-dynamic-selector{margin:2px;}\", \"p.__jsx-style-dynamic-selector,span.__jsx-style-dynamic-selector{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}\"]));\n};\n\nexport default EditAgentPopup;","map":null,"metadata":{},"sourceType":"module"}