{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useState, useContext } from 'react';\nimport Axios from 'axios';\nimport Cookies from 'js-cookie';\nimport UserContext from '../../context/UserContext';\nimport banksList from '../../Data/BankList';\n\nvar BankAccountsEdit = function BankAccountsEdit(props) {\n  var _useContext = useContext(UserContext),\n      state = _useContext.state;\n\n  var _useState = useState(banksList),\n      bankList = _useState[0],\n      setBankList = _useState[1];\n\n  var _useState2 = useState(props.data.bankName || bankList[0]),\n      bankName = _useState2[0],\n      setBankName = _useState2[1];\n\n  var _useState3 = useState(props.data.accountNumber || ''),\n      accountNumber = _useState3[0],\n      setAccountNumber = _useState3[1];\n\n  var _useState4 = useState(['Ahorros', 'Corriente']),\n      accountTypeOption = _useState4[0],\n      setAccountTypeOption = _useState4[1];\n\n  var _useState5 = useState(accountTypeOption[0]),\n      accountType = _useState5[0],\n      SetAccountType = _useState5[1];\n\n  var _useState6 = useState(['Dollars', 'Soles']),\n      currencyType = _useState6[0],\n      setCurrencyType = _useState6[1];\n\n  var _useState7 = useState(''),\n      nickname = _useState7[0],\n      setNickname = _useState7[1];\n\n  var _useState8 = useState(currencyType[0]),\n      currency = _useState8[0],\n      setCurrency = _useState8[1];\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var body, header, res, _res;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              body = {\n                bankName: bankName,\n                accountNumber: accountNumber,\n                type: accountType,\n                nickname: nickname,\n                currency: currency\n              }; // console.log('body', body);\n\n              header = {\n                headers: {\n                  'x-auth-token': Cookies.get('token')\n                }\n              }; // console.log(body);\n\n              if (!(props.request === 'add')) {\n                _context.next = 9;\n                break;\n              }\n\n              _context.next = 6;\n              return Axios.post('https://api.moni.pe/api/accounts', body, header);\n\n            case 6:\n              res = _context.sent;\n              _context.next = 13;\n              break;\n\n            case 9:\n              if (!(props.request === 'edit')) {\n                _context.next = 13;\n                break;\n              }\n\n              _context.next = 12;\n              return Axios.put('https://api.moni.pe/api/accounts/' + props.data._id, body, header);\n\n            case 12:\n              _res = _context.sent;\n\n            case 13:\n              props.handleShowEdit(props.state);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  if (currency !== 'Bitcoin') {\n    return __jsx(\"div\", {\n      className: \"form-container w-100\"\n    }, __jsx(\"h2\", {\n      className: \"mb-5\"\n    }, \"Detalles de cuenta bancaria\"), __jsx(\"div\", {\n      className: \"row justify-content-center\"\n    }, __jsx(\"div\", {\n      className: \"col-md-4\"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"label\", null, \"N\\xFAmero de cuenta\"), __jsx(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"accountNumber\",\n      placeholder: \"N\\xFAmero de cuenta\",\n      id: \"accountNumber\",\n      value: accountNumber,\n      onChange: function onChange(e) {\n        setAccountNumber(e.target.value);\n      }\n    }))), __jsx(\"div\", {\n      className: \"col-md-2\"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"label\", null, \"Tipo de cuenta\"), __jsx(\"select\", {\n      className: \"form-control\",\n      name: \"accountType\",\n      id: \"firstName\",\n      value: accountType,\n      onChange: function onChange(e) {\n        SetAccountType(e.target.value);\n      }\n    }, accountTypeOption.map(function (type, index) {\n      return __jsx(\"option\", {\n        key: index,\n        value: type\n      }, type);\n    }))))), __jsx(\"div\", {\n      className: \"row justify-content-center\"\n    }, __jsx(\"div\", {\n      className: \"col-md-2\"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"label\", null, \"Nombre del banco\"), __jsx(\"select\", {\n      className: \"form-control\",\n      name: \"accountType\",\n      id: \"firstName\",\n      value: bankName,\n      onChange: function onChange(e) {\n        setBankName(e.target.value);\n      }\n    }, bankList.map(function (type, index) {\n      return __jsx(\"option\", {\n        key: index,\n        value: type\n      }, type);\n    })))), __jsx(\"div\", {\n      className: \"\"\n    }), __jsx(\"div\", {\n      className: \"col-md-2\"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"label\", null, \"Due\\xF1o de cuenta\"), __jsx(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"nickname\",\n      placeholder: \"Due\\xF1o de cuenta\",\n      id: \"nickname\",\n      value: nickname,\n      onChange: function onChange(e) {\n        setNickname(e.target.value);\n      }\n    }))), __jsx(\"div\", {\n      className: \"col-md-2\"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"label\", null, \"Tipo de moneda\"), __jsx(\"select\", {\n      className: \"form-control\",\n      name: \"currencyType\",\n      id: \"currency Type\",\n      value: currency,\n      onChange: function onChange(e) {\n        setCurrency(e.target.value);\n      }\n    }, currencyType.map(function (type, index) {\n      // console.log(type);\n      return __jsx(\"option\", {\n        key: index,\n        value: type\n      }, type);\n    }))))), __jsx(\"div\", {\n      className: \"mt-5\"\n    }, __jsx(\"button\", {\n      className: \"btn text-white\",\n      onClick: function onClick() {\n        props.handleShowEdit(props.state);\n      }\n    }, \"Espalda\"), __jsx(\"button\", {\n      className: \"btn outline-btn ml-4\",\n      onClick: handleSubmit\n    }, \"Salvar\")));\n  } else {\n    return __jsx(\"div\", {\n      className: \"form-container w-100\"\n    }, __jsx(\"h2\", {\n      className: \"mb-5\"\n    }, \"Detalles de cuenta bancaria\"), __jsx(\"div\", {\n      className: \"row\"\n    }, __jsx(\"div\", {\n      className: \"col-md-4\"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"label\", null, \"Bitcoin Number\"), __jsx(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"accountNumber\",\n      placeholder: \"Bitcoin Number\",\n      id: \"accountNumber\",\n      value: accountNumber,\n      onChange: function onChange(e) {\n        setAccountNumber(e.target.value);\n      }\n    })))), __jsx(\"div\", {\n      className: \"row\"\n    }, __jsx(\"div\", {\n      className: \"col-md-2\"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"label\", null, \"Tipo de moneda\"), __jsx(\"select\", {\n      className: \"form-control\",\n      name: \"currencyType\",\n      id: \"currency Type\",\n      value: currency,\n      onChange: function onChange(e) {\n        setCurrency(e.target.value);\n      }\n    }, currencyType.map(function (type, index) {\n      // console.log(type);\n      return __jsx(\"option\", {\n        key: index,\n        value: type\n      }, type);\n    }))))), __jsx(\"div\", {\n      className: \"mt-5\"\n    }, __jsx(\"button\", {\n      className: \"btn text-white\",\n      onClick: function onClick() {\n        props.handleShowEdit(props.state);\n      }\n    }, \"Espalda\"), __jsx(\"button\", {\n      className: \"btn btn-dark\",\n      onClick: handleSubmit\n    }, \"Salvar\")));\n  }\n};\n\nexport default BankAccountsEdit;","map":null,"metadata":{},"sourceType":"module"}