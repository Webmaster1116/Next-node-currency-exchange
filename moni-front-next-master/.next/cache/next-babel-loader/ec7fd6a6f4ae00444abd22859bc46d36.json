{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport Cookies from 'js-cookie';\nimport Axios from 'axios';\nimport AlertContext from '../../context/alert/alertContext';\nimport BankList from '../../Data/BankList';\n\nvar editAccount = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(token, body, id) {\n    var header, res;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            header = {\n              headers: {\n                'x-auth-token': token\n              }\n            };\n            _context.next = 3;\n            return Axios.put('https://api.moni.pe/api/accounts/' + id, body, header);\n\n          case 3:\n            res = _context.sent;\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function editAccount(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar deleteAccount = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(token, id) {\n    var header, res;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            header = {\n              headers: {\n                'x-auth-token': token\n              }\n            };\n            _context2.next = 3;\n            return Axios[\"delete\"]('https://api.moni.pe/api/accounts/' + id, header);\n\n          case 3:\n            res = _context2.sent;\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function deleteAccount(_x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar Account = function Account(props) {\n  // console.log(props.data, ':::');\n  var _useState = useState({\n    name: props.data.bankName,\n    \"short\": props.data.bankShort\n  } || BankList[0]),\n      bankName = _useState[0],\n      setBankName = _useState[1];\n\n  var _useState2 = useState(props.data._id || ''),\n      id = _useState2[0],\n      setId = _useState2[1];\n\n  var _useState3 = useState(props.data.accountNumber || ''),\n      accountNumber = _useState3[0],\n      setAccountNumber = _useState3[1];\n\n  var _useState4 = useState(['Ahorros', 'Corriente']),\n      accountTypeOption = _useState4[0],\n      setAccountTypeOption = _useState4[1];\n\n  var _useState5 = useState(props.data.type || accountTypeOption[0]),\n      accountType = _useState5[0],\n      SetAccountType = _useState5[1];\n\n  var _useState6 = useState(['Dollars', 'Soles']),\n      currencyType = _useState6[0],\n      setCurrencyType = _useState6[1];\n\n  var _useState7 = useState(props.data.nickname || ''),\n      nickname = _useState7[0],\n      setNickname = _useState7[1];\n\n  var _useState8 = useState(props.data.currency || currencyType[0]),\n      currency = _useState8[0],\n      setCurrency = _useState8[1];\n\n  var _useState9 = useState(props.data.bankUser || ''),\n      bankUser = _useState9[0],\n      setBankUser = _useState9[1];\n\n  var _useState10 = useState(false),\n      displayClass = _useState10[0],\n      setDisplay = _useState10[1];\n\n  var token = Cookies.get('token');\n\n  var handleBankEdit = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e, id) {\n      var body, res;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              e.preventDefault();\n              body = {\n                bankName: bankName.name,\n                bankShort: bankName[\"short\"],\n                accountNumber: accountNumber,\n                type: accountType,\n                nickname: nickname,\n                currency: currency,\n                bankUser: bankUser\n              }; // console.log(body);\n              // console.log(id);\n\n              _context3.next = 4;\n              return editAccount(token, body, id);\n\n            case 4:\n              res = _context3.sent;\n              window.location.reload();\n\n            case 6:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleBankEdit(_x6, _x7) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleBankDelete = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(e, id) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              e.preventDefault();\n              _context4.next = 3;\n              return deleteAccount(token, id);\n\n            case 3:\n              res = _context4.sent;\n              window.location.reload();\n\n            case 5:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function handleBankDelete(_x8, _x9) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(React.Fragment, null, __jsx(\"dt\", {\n    className: \"jsx-4098443570\"\n  }, __jsx(\"a\", {\n    className: \"jsx-4098443570\"\n  }, __jsx(\"button\", {\n    onClick: function onClick(e) {\n      e.preventDefault();\n      setDisplay(!displayClass);\n    },\n    className: \"jsx-4098443570\" + \" \" + 'btn-a'\n  }, nickname || '-'))), __jsx(\"dd\", {\n    style: displayClass ? {\n      display: 'block'\n    } : {\n      display: 'none'\n    },\n    className: \"jsx-4098443570\" + \" \" + 'mb-30'\n  }, __jsx(\"div\", {\n    className: \"jsx-4098443570\" + \" \" + 'container padding0'\n  }, __jsx(\"div\", {\n    className: \"jsx-4098443570\" + \" \" + 'col-md-4 col-xs-12 padding0'\n  }, __jsx(\"h5\", {\n    className: \"jsx-4098443570\" + \" \" + 'black bold mb-10'\n  }, \"Tipo de cuenta\"), __jsx(\"select\", {\n    onChange: function onChange(e) {\n      SetAccountType(e.target.value);\n    },\n    disabled: \"\",\n    className: \"jsx-4098443570\" + \" \" + 'input-sm'\n  }, __jsx(\"option\", {\n    selected: true,\n    className: \"jsx-4098443570\"\n  }, accountType), accountTypeOption.map(function (country, index) {\n    return __jsx(\"option\", {\n      key: index,\n      value: country,\n      className: \"jsx-4098443570\"\n    }, country);\n  }), ' '), __jsx(\"h5\", {\n    className: \"jsx-4098443570\" + \" \" + 'black bold mb-10 mt-20'\n  }, \"Moneda\"), __jsx(\"select\", {\n    onChange: function onChange(e) {\n      setCurrency(e.target.value);\n    },\n    disabled: \"\",\n    className: \"jsx-4098443570\" + \" \" + 'input-sm'\n  }, __jsx(\"option\", {\n    selected: true,\n    className: \"jsx-4098443570\"\n  }, currency), currencyType.map(function (country, index) {\n    return __jsx(\"option\", {\n      key: index,\n      value: country,\n      className: \"jsx-4098443570\"\n    }, country);\n  }), ' '), __jsx(\"h5\", {\n    className: \"jsx-4098443570\" + \" \" + 'black bold mb-10  mt-20'\n  }, \"Nombre para recordar mi cuenta\"), __jsx(\"input\", {\n    type: \"text\",\n    onChange: function onChange(e) {\n      setNickname(e.target.value);\n    },\n    \"class\": \"input-sm\",\n    placeholder: \"BBVA Soles\",\n    pattern: \".{3,100}\",\n    disabled: \"\",\n    value: nickname,\n    className: \"jsx-4098443570\"\n  })), __jsx(\"div\", {\n    className: \"jsx-4098443570\" + \" \" + 'col-md-1 col-xs-12 padding0'\n  }), __jsx(\"div\", {\n    className: \"jsx-4098443570\" + \" \" + 'col-md-6 col-xs-12 padding0'\n  }, __jsx(\"h5\", {\n    className: \"jsx-4098443570\" + \" \" + 'black bold mb-10  mt-20'\n  }, \"Banco\"), __jsx(\"select\", {\n    onChange: function onChange(e) {\n      setBankName(JSON.parse(e.target.value));\n    },\n    disabled: \"\",\n    className: \"jsx-4098443570\" + \" \" + 'input-sm'\n  }, __jsx(\"option\", {\n    selected: true,\n    className: \"jsx-4098443570\"\n  }, bankName.name), BankList.map(function (bank, index) {\n    return __jsx(\"option\", {\n      key: index,\n      value: JSON.stringify(bank),\n      className: \"jsx-4098443570\"\n    }, bank.name);\n  }), ' '), __jsx(\"h5\", {\n    className: \"jsx-4098443570\" + \" \" + 'black bold mb-10  mt-20'\n  }, \"N\\xFAmero de cuenta\"), __jsx(\"input\", {\n    type: \"text\",\n    onChange: function onChange(e) {\n      setAccountNumber(e.target.value);\n    },\n    \"class\": \"input-sm\",\n    placeholder: \"001101520200382495\",\n    pattern: \".{3,100}\",\n    disabled: \"\",\n    value: accountNumber,\n    className: \"jsx-4098443570\"\n  }), __jsx(\"h5\", {\n    className: \"jsx-4098443570\" + \" \" + 'black bold mb-10  mt-20'\n  }, \"Nombre de la cuenta bancaria\"), __jsx(\"input\", {\n    type: \"text\",\n    onChange: function onChange(e) {\n      setBankUser(e.target.value);\n    },\n    \"class\": \"input-sm\",\n    placeholder: \"nombre\",\n    disabled: \"\",\n    value: bankUser,\n    className: \"jsx-4098443570\"\n  }), __jsx(\"div\", {\n    className: \"jsx-4098443570\" + \" \" + 'col-md-6 col-xs-12 mt-30 padding0'\n  }, __jsx(\"button\", {\n    onClick: function onClick(e) {\n      return handleBankEdit(e, id);\n    },\n    className: \"jsx-4098443570\" + \" \" + 'btn btn-mod btn-border-w btn-circle btn-alerta'\n  }, __jsx(\"i\", {\n    className: \"jsx-4098443570\" + \" \" + 'fa fa-edit fa-2x'\n  }), \" Actualizar\")), __jsx(\"div\", {\n    className: \"jsx-4098443570\" + \" \" + 'col-md-6 col-xs-12 mt-30 padding0'\n  }, __jsx(\"button\", {\n    onClick: function onClick(e) {\n      return handleBankDelete(e, id);\n    },\n    className: \"jsx-4098443570\" + \" \" + 'btn btn-mod btn-color btn-large btn-circle'\n  }, __jsx(\"i\", {\n    className: \"jsx-4098443570\" + \" \" + 'fa  fa-times fa-2x'\n  }), \" Eliminar\"))))), __jsx(_JSXStyle, {\n    id: \"4098443570\"\n  }, [\".btn-a.jsx-4098443570{background:transparent;color:#333;font-size:22px;font-weight:600;border:none;}\", \"input.jsx-4098443570{width:100%;height:50px;padding-left:25px;padding-right:13px;font-size:15px;border-radius:45px;color:#333;border:2px solid #e55729;border-top-color:rgb(229,87,41);border-right-color:rgb(229,87,41);border-bottom-color:rgb(229,87,41);border-left-color:rgb(229,87,41);text-transform:none;background:transparent;}\"]));\n};\n\nexport default Account;","map":null,"metadata":{},"sourceType":"module"}