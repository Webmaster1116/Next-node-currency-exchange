{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useContext } from 'react';\nimport Axios from 'axios';\nimport AgentEdit from './AgentEdit';\nimport AgentContext from '../../context/AgentContext';\nimport Cookies from 'js-cookie';\nimport AlertContext from '../../context/alert/alertContext';\nimport getAgentId from '../genericFunctions/getAgentId';\nimport getAgentData from '../genericFunctions/getAgentData';\n\nvar AgentView = function AgentView() {\n  var _useState = useState(''),\n      agentId = _useState[0],\n      setAgentId = _useState[1];\n\n  var _useState2 = useState(''),\n      firstName = _useState2[0],\n      setFirstName = _useState2[1];\n\n  var _useState3 = useState(''),\n      lastName = _useState3[0],\n      setLastName = _useState3[1];\n\n  var _useState4 = useState(''),\n      motherName = _useState4[0],\n      setMotherName = _useState4[1];\n\n  var _useState5 = useState(''),\n      birthDate = _useState5[0],\n      setBirthDate = _useState5[1];\n\n  var _useState6 = useState(''),\n      email = _useState6[0],\n      setEmail = _useState6[1];\n\n  var _useState7 = useState(''),\n      phone = _useState7[0],\n      setPhone = _useState7[1];\n\n  var _useState8 = useState(''),\n      secondName = _useState8[0],\n      setSecondName = _useState8[1];\n\n  var _useState9 = useState(''),\n      nationality = _useState9[0],\n      setNationality = _useState9[1];\n\n  var _useState10 = useState(''),\n      doctype = _useState10[0],\n      setDoctype = _useState10[1];\n\n  var _useState11 = useState(''),\n      dni = _useState11[0],\n      setDni = _useState11[1];\n\n  var _useState12 = useState(''),\n      accountType = _useState12[0],\n      setAccountType = _useState12[1];\n\n  var _useState13 = useState(''),\n      ruc = _useState13[0],\n      setRuc = _useState13[1];\n\n  var _useState14 = useState(''),\n      address = _useState14[0],\n      setAddress = _useState14[1];\n\n  var _useState15 = useState(''),\n      companyName = _useState15[0],\n      setCompanyName = _useState15[1];\n\n  var _useState16 = useState(false),\n      showEdit = _useState16[0],\n      setShowEdit = _useState16[1];\n\n  var _useContext = useContext(AgentContext),\n      state = _useContext.state,\n      addToken = _useContext.addToken,\n      addName = _useContext.addName;\n\n  var alertContext = useContext(AlertContext);\n  var setAlert = alertContext.setAlert,\n      alerts = alertContext.alerts;\n  var token = Cookies.get('agentToken');\n\n  var _useState17 = useState(false),\n      loading = _useState17[0],\n      setLoading = _useState17[1];\n\n  var init = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var resProfileId, resProfile;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              setLoading(true);\n              _context.next = 4;\n              return getAgentId(token);\n\n            case 4:\n              resProfileId = _context.sent;\n              _context.next = 7;\n              return getAgentData(token, resProfileId);\n\n            case 7:\n              resProfile = _context.sent;\n              // console.log(resProfile._id);\n              setAccountType(resProfile.accountType); // console.log(resProfile.accountType);\n\n              setFirstName(resProfile.firstName);\n              setAgentId(resProfile._id);\n              setLastName(resProfile.lastName);\n              setMotherName(resProfile.motherLastName);\n              setBirthDate(resProfile.birthDate);\n              setEmail(resProfile.email);\n              setPhone(resProfile.phone);\n              setSecondName(resProfile.secondName);\n              setNationality(resProfile.nationality);\n              setDni(resProfile.dni);\n              setDoctype(resProfile.doctype);\n              setRuc(resProfile.ruc);\n              setCompanyName(resProfile.companyName);\n              setAddress(resProfile.address);\n              setLoading(false);\n              _context.next = 29;\n              break;\n\n            case 26:\n              _context.prev = 26;\n              _context.t0 = _context[\"catch\"](0);\n              setAlert('Por favor complete su perfil', 'danger');\n\n            case 29:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 26]]);\n    }));\n\n    return function init() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    init();\n  }, []);\n\n  var handleEdit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setShowEdit(!showEdit);\n              _context2.next = 3;\n              return init();\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleEdit() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  if (showEdit === true) {\n    return __jsx(AgentEdit, {\n      handleShowEdit: handleEdit,\n      state: showEdit,\n      data: {\n        firstName: firstName,\n        secondName: secondName,\n        lastName: lastName,\n        motherName: motherName,\n        birthDate: birthDate,\n        email: email,\n        phone: phone,\n        nationality: nationality,\n        dni: dni,\n        doctype: doctype,\n        accountType: accountType,\n        ruc: ruc,\n        companyName: companyName,\n        address: address\n      },\n      accountType: accountType,\n      id: agentId\n    });\n  }\n\n  if (loading === true) {\n    return __jsx(\"div\", {\n      className: \"page-loader\"\n    }, __jsx(\"div\", {\n      className: \"loader\"\n    }, \"Cargando...\"));\n  }\n\n  return __jsx(React.Fragment, null, __jsx(\"section\", {\n    \"data-background\": \"images/bkg-neutro.jpg\",\n    className: \"jsx-1747754318\" + \" \" + 'page-section min-section pt-90 parallax-2'\n  }, __jsx(\"form\", {\n    className: \"jsx-1747754318\" + \" \" + 'form-normal'\n  }, __jsx(\"div\", {\n    className: \"jsx-1747754318\" + \" \" + 'container align-left'\n  }, __jsx(\"h2\", {\n    className: \"jsx-1747754318\" + \" \" + 'orange'\n  }, \"Detalles del perfil\"), __jsx(\"div\", {\n    className: \"jsx-1747754318\" + \" \" + 'col-md-5 col-xs-12 padding0'\n  }, accountType === 'Personal' ? '' : __jsx(React.Fragment, null, __jsx(\"h5\", {\n    className: \"jsx-1747754318\" + \" \" + 'black bold mb-10 mt-20'\n  }, \"Nombre de empresa\"), __jsx(\"h4\", {\n    className: \"jsx-1747754318\" + \" \" + 'black mb-10 mt-20'\n  }, companyName)), __jsx(\"h5\", {\n    className: \"jsx-1747754318\" + \" \" + 'black bold mb-10  mt-20'\n  }, \"Primer nombre\"), __jsx(\"h4\", {\n    className: \"jsx-1747754318\" + \" \" + 'black mb-10 mt-20'\n  }, firstName), __jsx(\"h5\", {\n    className: \"jsx-1747754318\" + \" \" + 'black bold mb-10  mt-20'\n  }, \"Apellido paterno\"), __jsx(\"h4\", {\n    className: \"jsx-1747754318\" + \" \" + 'black mb-10 mt-20'\n  }, lastName), __jsx(React.Fragment, null, __jsx(\"h5\", {\n    className: \"jsx-1747754318\" + \" \" + 'black bold mb-10 mt-20'\n  }, \"Direcci\\xF3n\"), __jsx(\"h4\", {\n    className: \"jsx-1747754318\" + \" \" + 'black mb-10 mt-20'\n  }, address)), __jsx(\"h5\", {\n    className: \"jsx-1747754318\" + \" \" + 'black bold mb-10  mt-20'\n  }, \"Email\"), __jsx(\"h4\", {\n    className: \"jsx-1747754318\" + \" \" + 'black mb-10 mt-20'\n  }, email)), __jsx(\"div\", {\n    className: \"jsx-1747754318\" + \" \" + 'col-md-2 col-xs-12 padding0'\n  }), __jsx(\"div\", {\n    className: \"jsx-1747754318\" + \" \" + 'col-md-5 col-xs-12 padding0'\n  }, __jsx(\"h5\", {\n    className: \"jsx-1747754318\" + \" \" + 'black bold mb-10'\n  }, \"N\\xBA de documento\"), __jsx(\"h4\", {\n    className: \"jsx-1747754318\" + \" \" + 'black mb-10 mt-20'\n  }, dni), __jsx(\"h5\", {\n    className: \"jsx-1747754318\" + \" \" + 'black bold mb-10 mt-20'\n  }, \"N\\xFAmero telef\\xF3nico\"), __jsx(\"h4\", {\n    className: \"jsx-1747754318\" + \" \" + 'black mb-10 mt-20'\n  }, phone), __jsx(\"h5\", {\n    className: \"jsx-1747754318\" + \" \" + 'black bold mb-10 mt-20'\n  }, \"Tipo de Perfil \"), __jsx(\"h4\", {\n    className: \"jsx-1747754318\" + \" \" + 'black mb-10 mt-20'\n  }, accountType), accountType === 'Personal' ? '' : __jsx(React.Fragment, null, __jsx(\"h5\", {\n    className: \"jsx-1747754318\" + \" \" + 'black bold mb-10 mt-20'\n  }, \"R.U.C\"), __jsx(\"h4\", {\n    className: \"jsx-1747754318\" + \" \" + 'black mb-10 mt-20'\n  }, ruc))), __jsx(\"div\", {\n    className: \"jsx-1747754318\" + \" \" + 'col-md-12 col-xs-12 padding0'\n  })))), __jsx(_JSXStyle, {\n    id: \"1747754318\"\n  }, [\".min-section.jsx-1747754318{background:white;background-image:url('../images/bkg-neutro.jpg') !important;background-attachment:fixed;background-repeat:no-repeat;background-size:cover;}\", \".btn.jsx-1747754318{background:white;margin:0px;padding:0px;}\", \".min-section.jsx-1747754318{max-height:900vh;min-height:80vh;overflow:auto;white-space:nowrap;}\", \".page-section.jsx-1747754318{max-height:100vh;}\"]));\n};\n\nexport default AgentView;","map":null,"metadata":{},"sourceType":"module"}