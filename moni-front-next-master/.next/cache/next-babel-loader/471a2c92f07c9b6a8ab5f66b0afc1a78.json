{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport Router, { withRouter } from 'next/router';\nimport Axios from 'axios';\nimport Cookies from 'js-cookie';\n\nconst getData = async token => {\n  const header = {\n    headers: {\n      'x-auth-token': token\n    }\n  };\n  const data = await Axios.get('https://api.moni.pe/api/auth', header);\n  return data.data;\n};\n\nconst Navbar2 = ({\n  router\n}) => {\n  const {\n    0: islogin,\n    1: setIsLogin\n  } = useState(false);\n  const {\n    0: name,\n    1: setName\n  } = useState('');\n\n  const init = async () => {\n    const coo = Cookies.get('token'); // console.log('coo', coo);\n\n    if (coo != undefined) {\n      try {\n        const data = await getData(coo); // console.log('name', data.name);\n\n        setName(data.name);\n        setIsLogin(true);\n      } catch (error) {\n        setIsLogin(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  const handleLogout = () => {\n    const res = Cookies.remove('token'); // console.log('logout', res);\n\n    if (router.pathname === '/' || router.pathname === '/index') {\n      window.location.reload();\n    } else {\n      Router.push('/');\n    }\n  };\n\n  return __jsx(\"nav\", {\n    className: \"jsx-779624548\" + \" \" + 'main-nav dark stick-fixed'\n  }, __jsx(\"div\", {\n    className: \"jsx-779624548\" + \" \" + 'container relative clearfix'\n  }, __jsx(\"div\", {\n    className: \"jsx-779624548\" + \" \" + 'nav-logo-wrap local-scroll'\n  }, __jsx(Link, {\n    href: \"\"\n  }, __jsx(\"a\", {\n    onClick: () => {\n      window.location.href = '/';\n    },\n    className: \"jsx-779624548\" + \" \" + 'logo'\n  }, __jsx(\"img\", {\n    src: \"images/logo-moni.png\",\n    alt: \"logo\",\n    className: \"jsx-779624548\"\n  })))), __jsx(\"div\", {\n    className: \"jsx-779624548\" + \" \" + 'mobile-nav'\n  }, __jsx(\"a\", {\n    href: \"#\",\n    className: \"jsx-779624548\" + \" \" + 'fm-button'\n  }, __jsx(\"span\", {\n    className: \"jsx-779624548\"\n  }), \"Menu\"), __jsx(\"div\", {\n    id: \"fullscreen-menu\",\n    className: \"jsx-779624548\" + \" \" + 'fm-wrapper'\n  }, __jsx(\"div\", {\n    className: \"jsx-779624548\" + \" \" + 'fm-wrapper-sub'\n  }, __jsx(\"div\", {\n    className: \"jsx-779624548\" + \" \" + 'fm-wrapper-sub-sub'\n  }, __jsx(\"ul\", {\n    className: \"jsx-779624548\" + \" \" + 'fm-menu-links scroll-nav local-scroll'\n  }, __jsx(\"li\", {\n    className: \"jsx-779624548\" + \" \" + 'active'\n  }, __jsx(Link, {\n    href: \"\"\n  }, __jsx(\"a\", {\n    onClick: () => {\n      window.location.href = '/nostros';\n    },\n    className: \"jsx-779624548\"\n  }, \"Nosotros\"))), __jsx(\"li\", {\n    className: \"jsx-779624548\"\n  }, __jsx(Link, {\n    href: \"\"\n  }, __jsx(\"a\", {\n    onClick: () => {\n      window.location.href = '/operation';\n    },\n    className: \"jsx-779624548\"\n  }, \"Operaci\\xF3n\"))), __jsx(\"li\", {\n    className: \"jsx-779624548\"\n  }, __jsx(Link, {\n    href: \"/contact\"\n  }, __jsx(\"a\", {\n    onClick: () => {\n      window.location.href = '/contact';\n    },\n    className: \"jsx-779624548\"\n  }, \"Contact\"))), __jsx(\"li\", {\n    className: \"jsx-779624548\"\n  }, __jsx(Link, {\n    href: \"/login\"\n  }, __jsx(\"a\", {\n    className: \"jsx-779624548\"\n  }, \"Iniciar sesi\\xF3n\"))), __jsx(\"li\", {\n    className: \"jsx-779624548\"\n  }, __jsx(Link, {\n    href: \"/register\"\n  }, __jsx(\"a\", {\n    className: \"jsx-779624548\"\n  }, \"Reg\\xEDstrate\")))), __jsx(\"div\", {\n    className: \"jsx-779624548\" + \" \" + 'fm-social-links'\n  }, __jsx(\"a\", {\n    href: \"#\",\n    title: \"Facebook\",\n    target: \"_blank\",\n    className: \"jsx-779624548\"\n  }, __jsx(\"i\", {\n    className: \"jsx-779624548\" + \" \" + 'fa fa-facebook'\n  })), __jsx(\"a\", {\n    href: \"#\",\n    title: \"Twitter\",\n    target: \"_blank\",\n    className: \"jsx-779624548\"\n  }, __jsx(\"i\", {\n    className: \"jsx-779624548\" + \" \" + 'fa fa-twitter'\n  })), __jsx(\"a\", {\n    href: \"#\",\n    title: \"Linkedin\",\n    target: \"_blank\",\n    className: \"jsx-779624548\"\n  }, __jsx(\"i\", {\n    className: \"jsx-779624548\" + \" \" + 'fa fa-linkedin'\n  })), __jsx(\"a\", {\n    href: \"#\",\n    title: \"Instagram+\",\n    target: \"_blank\",\n    className: \"jsx-779624548\"\n  }, __jsx(\"i\", {\n    className: \"jsx-779624548\" + \" \" + 'fa fa-instagram'\n  }))))))), __jsx(\"div\", {\n    className: \"jsx-779624548\" + \" \" + 'inner-nav desktop-nav'\n  }, __jsx(\"ul\", {\n    className: \"jsx-779624548\" + \" \" + 'clearlist scroll-nav local-scroll'\n  }, __jsx(\"li\", {\n    className: \"jsx-779624548\" + \" \" + 'active'\n  }, __jsx(Link, {\n    href: \"/nostros\"\n  }, __jsx(\"a\", {\n    onClick: () => {\n      window.location.href = '/nostros';\n    },\n    className: \"jsx-779624548\"\n  }, \"Nostros\"))), __jsx(\"li\", {\n    className: \"jsx-779624548\"\n  }, __jsx(Link, {\n    href: \"\"\n  }, __jsx(\"a\", {\n    onClick: () => {\n      window.location.href = '/operation';\n    },\n    className: \"jsx-779624548\"\n  }, \"Operaci\\xF3n\"))), __jsx(\"li\", {\n    className: \"jsx-779624548\"\n  }, __jsx(Link, {\n    href: \"\"\n  }, __jsx(\"a\", {\n    onClick: () => {\n      window.location.href = '/contact';\n    },\n    className: \"jsx-779624548\"\n  }, \"Contacto\"))), islogin ? __jsx(React.Fragment, null, __jsx(\"li\", {\n    className: \"jsx-779624548\"\n  }, __jsx(Link, {\n    href: \"/login\"\n  }, __jsx(\"a\", {\n    className: \"jsx-779624548\"\n  }, __jsx(\"button\", {\n    onClick: handleLogout,\n    className: \"jsx-779624548\" + \" \" + 'btn'\n  }, __jsx(\"span\", {\n    className: \"jsx-779624548\" + \" \" + 'btn btn-mod btn-border-w btn-circle bold btn-sesion'\n  }, \"Cerrar Sesi\\xF3n\"))))), __jsx(\"li\", {\n    className: \"jsx-779624548\"\n  }, __jsx(Link, {\n    href: \"\"\n  }, __jsx(\"a\", {\n    onClick: () => {\n      window.location.href = '/profile';\n    },\n    className: \"jsx-779624548\"\n  }, __jsx(\"span\", {\n    className: \"jsx-779624548\" + \" \" + 'btn btn-mod btn-color btn-border-w btn-medium btn-circle bold'\n  }, name))))) : __jsx(React.Fragment, null, __jsx(\"li\", {\n    className: \"jsx-779624548\"\n  }, __jsx(Link, {\n    href: \"/login\"\n  }, __jsx(\"a\", {\n    className: \"jsx-779624548\"\n  }, __jsx(\"span\", {\n    className: \"jsx-779624548\" + \" \" + 'btn btn-mod btn-border-w btn-circle bold btn-sesion'\n  }, \"Iniciar sesi\\xF3n\")))), __jsx(\"li\", {\n    className: \"jsx-779624548\"\n  }, __jsx(Link, {\n    href: \"/register\"\n  }, __jsx(\"a\", {\n    className: \"jsx-779624548\"\n  }, __jsx(\"span\", {\n    className: \"jsx-779624548\" + \" \" + 'btn btn-mod btn-color btn-border-w btn-medium btn-circle bold'\n  }, \"Reg\\xEDstrate\")))))))), __jsx(_JSXStyle, {\n    id: \"779624548\"\n  }, [\".btn.jsx-779624548{background:transparent;}\"]));\n};\n\nexport default withRouter(Navbar2);","map":null,"metadata":{},"sourceType":"module"}