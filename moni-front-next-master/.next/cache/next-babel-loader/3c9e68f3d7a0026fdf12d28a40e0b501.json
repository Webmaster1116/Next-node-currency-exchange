{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport Axios from 'axios';\n\nvar ViewPopup = function ViewPopup(props) {\n  var _useState = useState(\"\".concat(window.scrollY + 30, \"px\")),\n      margintop = _useState[0],\n      setMargintop = _useState[1];\n\n  var _useState2 = useState(''),\n      agentTransactionNumber = _useState2[0],\n      setAgentTransactionNumber = _useState2[1];\n\n  var _useState3 = useState(false),\n      showImg = _useState3[0],\n      setShowImg = _useState3[1];\n\n  var _useState4 = useState(''),\n      imgSrc = _useState4[0],\n      setImgSrc = _useState4[1];\n\n  var _useState5 = useState(false),\n      loader = _useState5[0],\n      setLoader = _useState5[1];\n\n  var status = false;\n\n  if (props.data.transaction.status === 'Pago pendiente') {\n    status = 'Pago realizado';\n  }\n\n  console.log('data', props.data.transaction.amountToPay.toLocaleString());\n\n  var listenScrollEvent = function listenScrollEvent(e) {\n    if (window.scrollY > 50) {\n      setMargintop(\"\".concat(window.scrollY + 50, \"px\"));\n    } else {\n      setMargintop(\"\".concat(window.scrollY + 50, \"px\"));\n    }\n  };\n\n  useEffect(function () {\n    window.addEventListener('scroll', listenScrollEvent);\n  }, []);\n\n  var handleChange = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n\n              if (!(status !== false)) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 4;\n              return changeStatus(props.token, props.data._id, props.data.transaction, status, agentTransactionNumber);\n\n            case 4:\n              _context.next = 6;\n              return props.handleRefresh();\n\n            case 6:\n              props.setViewModal(false);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleChange(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleViewImage = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setShowImg(true);\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleViewImage(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + 'div-custom shadow-custom round container'\n  }, showImg ? __jsx(React.Fragment, null, __jsx(\"button\", {\n    onClick: function onClick(e) {\n      setShowImg(false);\n    },\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + 'btn btn-custom'\n  }, __jsx(\"i\", {\n    style: {\n      position: 'absolute',\n      right: '5%',\n      top: '5%'\n    },\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + 'fa fa-times'\n  })), __jsx(\"img\", {\n    src: 'https://api.moni.pe/api/operations/photo/' + props.data._id,\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  })) : __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, __jsx(\"button\", {\n    onClick: function onClick(e) {\n      props.setViewModal(false);\n    },\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + 'btn btn-custom'\n  }, __jsx(\"i\", {\n    style: {\n      position: 'absolute',\n      right: '5%'\n    },\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + 'fa fa-times'\n  }))), __jsx(\"h3\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + 'text-center'\n  }, __jsx(\"span\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + 'orange'\n  }, \"Estado de la transaccion: \", props.data.transaction.status), __jsx(\"br\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }), __jsx(\"span\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + ''\n  }, props.data.transaction.currencyFrom === 'Dollars' ? 'USD' : props.data.transaction.currencyFrom, '-', props.data.transaction.currencyTo === 'Dollars' ? 'USD' : props.data.transaction.currencyTo)), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + 'row'\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + 'col-md-1'\n  }), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + 'col-md-5'\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + 'text-center'\n  }, __jsx(\"div\", {\n    style: {\n      textAlign: 'start'\n    },\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, \"El dinero lo recibes en\"), __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, \"Numero de cuenta bancaria\"), __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, \"Monto\"), props.data.transactionNumber.length > 6 ? __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, \"Numero de Operacion\") : __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, \"Screenshoot\")))), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + 'col-md-1 text-center'\n  }, __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, \":\"), __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, \":\"), __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, \":\"), __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, \":\")), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + 'col-md-5'\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + 'text-center'\n  }, __jsx(\"div\", {\n    style: {\n      textAlign: 'start'\n    },\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, __jsx(\"span\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, props.data.agentBank.bankName || '-'), __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, props.data.agentBank.accountNumber || '-'), __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, parseFloat(props.data.transaction.amountToPay).toLocaleString(undefined, {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  }) || '-'), props.data.transactionNumber.length >= 6 ? __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, props.data.transactionNumber || '-') : __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, __jsx(\"button\", {\n    onClick: function onClick(e) {\n      return handleViewImage(e);\n    },\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + 'btn btn-img'\n  }, \"Ver imagen\")))))), __jsx(\"h4\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + 'text-center bold'\n  }, __jsx(\"span\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, \"Despues de verificar que el cliente a despositado\"), __jsx(\"br\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }), __jsx(\"span\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, \"en tu cuenta debes enviar el dinero al cliente\")), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + 'row'\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + 'col-md-1'\n  }), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + 'col-md-5'\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + 'text-center'\n  }, __jsx(\"div\", {\n    style: {\n      textAlign: 'start'\n    },\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, \"El dinero lo recibes en\"), __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, \"Numero de cuenta bancaria\"), __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, \"Monto\")))), __jsx(\"div\", {\n    style: {\n      marginLeft: '0px',\n      marginRight: '0px'\n    },\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + 'col-md-1 text-center'\n  }, __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, \":\"), __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, \":\"), __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, \":\")), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + 'col-md-5'\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + 'text-center'\n  }, __jsx(\"div\", {\n    style: {\n      textAlign: 'start'\n    },\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, __jsx(\"span\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, props.data.bankDetails.bankName || '-'), __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, props.data.bankDetails.accountNumber || '-'), __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]])\n  }, props.data.transaction.amountReceive.toLocaleString(undefined, {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  }) || '-'))))), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + 'text-center'\n  }, __jsx(\"button\", {\n    onClick: function onClick(e) {\n      return handleChange(e);\n    },\n    className: _JSXStyle.dynamic([[\"1055570302\", [margintop]]]) + \" \" + 'mt-2 btn btn-mod btn-border-w btn-medium btn-circle bold'\n  }, \"Confirmar detalles\"))), __jsx(_JSXStyle, {\n    id: \"1055570302\",\n    dynamic: [margintop]\n  }, [\".div-custom.__jsx-style-dynamic-selector{max-width:650px;position:absolute;top:\".concat(margintop, \";z-index:9999999999 !important;left:40%;background:white;padding:3em;margin-left:-150px;}\"), \"p.__jsx-style-dynamic-selector{margin:2px;}\", \".mr-4.__jsx-style-dynamic-selector{margin-right:5px;}\", \".pt-0.__jsx-style-dynamic-selector{padding-top:6px !important;padding-bottom:5px !important;}\", \".mt-2.__jsx-style-dynamic-selector{margin-top:3em;}\", \".shadow-custom.__jsx-style-dynamic-selector{box-shadow:1px 1px 4px rgba(0,0,0,0.12) !important;border-radius:25px !important;}\", \".input-cust.__jsx-style-dynamic-selector{border:none;border-bottom:solid;border-width:1px;}\", \".btn-custom.__jsx-style-dynamic-selector{background:transparent;}\", \".btn-img.__jsx-style-dynamic-selector{background:transparent;margin:0px;padding:0px;}\", \"span.__jsx-style-dynamic-selector{margin:2px;}\", \"p.__jsx-style-dynamic-selector,span.__jsx-style-dynamic-selector{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}\"]));\n};\n\nvar changeStatus = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(token, id, transaction, status, agentTransactionNumber) {\n    var body, header, res;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            body = {\n              transaction: _objectSpread(_objectSpread({}, transaction), {}, {\n                status: status,\n                agentTransactionNumber: agentTransactionNumber\n              })\n            };\n            console.log('change....', body, id);\n            header = {\n              headers: {\n                'x-auth-token': token\n              }\n            };\n            _context3.next = 5;\n            return Axios.put('https://api.moni.pe/api/operations/' + id, body, header);\n\n          case 5:\n            res = _context3.sent;\n            console.log(res);\n            return _context3.abrupt(\"return\", res.data);\n\n          case 8:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function changeStatus(_x3, _x4, _x5, _x6, _x7) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport default ViewPopup;","map":null,"metadata":{},"sourceType":"module"}