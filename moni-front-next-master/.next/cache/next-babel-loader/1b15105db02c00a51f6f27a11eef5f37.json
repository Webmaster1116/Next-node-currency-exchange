{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useRouter } from 'next/router';\nimport Layout from '../../components/Layout';\nimport Loader from '../../components/Loader';\nexport default (props => {\n  const router = useRouter();\n  const {\n    0: password,\n    1: setPassword\n  } = useState('');\n  const {\n    0: confirmPassword,\n    1: setConfirmPassword\n  } = useState('');\n  const token = router.query.token;\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: isUpdate,\n    1: setIsUpdate\n  } = useState(false);\n  useEffect(() => {\n    const check = async token => {\n      const res = await axios.get( // \"http://localhost:5000/api/forget/reset\"\n      'https://api.moni.pe/api/forget/reset', {\n        params: {\n          resetPasswordToken: token\n        }\n      });\n      console.log(res);\n    };\n\n    check(token);\n  }, []);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n\n    if (password === confirmPassword) {\n      const body = {\n        resetPasswordToken: token,\n        password\n      };\n      const res = await axios.post( // \"http://localhost:5000/api/forget/updatePassword\",\n      'https://api.moni.pe/api/forget/updatePassword', body);\n      console.log('res:-', res);\n    } else {\n      console.log('password did not match');\n    }\n\n    setLoading(false);\n    setIsUpdate(true);\n  };\n\n  if (loading === true) {\n    return __jsx(Layout, null, __jsx(\"div\", {\n      className: \"loading w-100 h-100\"\n    }, __jsx(\"div\", {\n      className: \"loader\"\n    }, __jsx(Loader, null)), __jsx(\"style\", null, `\n          .loading {\n            overflow: hidden\n            margin: 20px;\n            padding: 300px;\n            height: 100vh;\n            background: #071127;\n            text-align: center;\n          }\n        `)));\n  }\n\n  if (isUpdate === true) {\n    return __jsx(Layout, null, __jsx(\"div\", {\n      className: \"loading w-100 h-100\"\n    }, __jsx(\"div\", {\n      className: \"loader\"\n    }, \"Continue login with updated password.\"), __jsx(\"style\", null, `\n      .loading {\n        overflow: hidden\n        margin: 20px;\n        padding: 300px;\n        height: 100vh;\n        background: #071127;\n        color: white;\n        text-align: center;\n      }\n    `)));\n  }\n\n  return __jsx(React.Fragment, null, __jsx(Layout, null, __jsx(\"div\", {\n    className: \"jsx-1556680907\" + \" \" + 'main'\n  }, __jsx(\"form\", {\n    className: \"jsx-1556680907\" + \" \" + 'form'\n  }, \"Reset Password\", __jsx(\"div\", {\n    className: \"jsx-1556680907\" + \" \" + 'form-group mt-4'\n  }, __jsx(\"input\", {\n    placeholder: \"enter password\",\n    value: password,\n    onChange: e => {\n      setPassword(e.target.value);\n    },\n    className: \"jsx-1556680907\" + \" \" + 'input-control'\n  })), __jsx(\"div\", {\n    className: \"jsx-1556680907\" + \" \" + 'form-group'\n  }, __jsx(\"input\", {\n    placeholder: \"confirm password\",\n    value: confirmPassword,\n    onChange: e => {\n      setConfirmPassword(e.target.value);\n    },\n    className: \"jsx-1556680907\" + \" \" + 'input-control'\n  })), __jsx(\"button\", {\n    onClick: handleSubmit,\n    className: \"jsx-1556680907\" + \" \" + 'btn'\n  }, \"Submit\"))), __jsx(_JSXStyle, {\n    id: \"1556680907\"\n  }, [\".main.jsx-1556680907{margin-top:200px;text-align:center;}\"])));\n});","map":null,"metadata":{},"sourceType":"module"}