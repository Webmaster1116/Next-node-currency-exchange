{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Axios from 'axios';\nconst AgentContext = React.createContext();\nexport const Provider = props => {\n  const {\n    0: state,\n    1: setState\n  } = useState({\n    token: '',\n    userName: '',\n    isLogin: false,\n    id: ''\n  });\n\n  const addToken = token => {\n    const newState = state;\n    newState.token = token;\n    setState(newState);\n  };\n\n  const addName = userName => {\n    const newState = state;\n    newState.userName = userName;\n    newState.isLogin = true;\n    setState(newState);\n    console.log(state);\n  };\n\n  const isUserAuth = async token => {\n    const header = {\n      headers: {\n        'x-auth-token': token\n      }\n    };\n    const res = Axios.get('https://api.moni.pe/api/auth', header);\n    console.log('res:-', res);\n  };\n\n  return __jsx(AgentContext.Provider, {\n    value: {\n      state,\n      addToken,\n      isUserAuth,\n      addName\n    }\n  }, props.children);\n};\nexport const Consumer = AgentContext.Consumer;\nexport default AgentContext;","map":{"version":3,"sources":["E:/moni-front-next/context/AgentContext.js"],"names":["React","useState","Axios","AgentContext","createContext","Provider","props","state","setState","token","userName","isLogin","id","addToken","newState","addName","console","log","isUserAuth","header","headers","res","get","children","Consumer"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,YAAY,GAAGH,KAAK,CAACI,aAAN,EAArB;AAEA,OAAO,MAAMC,QAAQ,GAAGC,KAAK,IAAI;AAChC,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBP,QAAQ,CAAC;AAClCQ,IAAAA,KAAK,EAAE,EAD2B;AAElCC,IAAAA,QAAQ,EAAE,EAFwB;AAGlCC,IAAAA,OAAO,EAAE,KAHyB;AAIlCC,IAAAA,EAAE,EAAE;AAJ8B,GAAD,CAAlC;;AAOA,QAAMC,QAAQ,GAAGJ,KAAK,IAAI;AACzB,UAAMK,QAAQ,GAAGP,KAAjB;AACAO,IAAAA,QAAQ,CAACL,KAAT,GAAiBA,KAAjB;AACAD,IAAAA,QAAQ,CAACM,QAAD,CAAR;AACA,GAJD;;AAMA,QAAMC,OAAO,GAAGL,QAAQ,IAAI;AAC3B,UAAMI,QAAQ,GAAGP,KAAjB;AACAO,IAAAA,QAAQ,CAACJ,QAAT,GAAoBA,QAApB;AACAI,IAAAA,QAAQ,CAACH,OAAT,GAAmB,IAAnB;AACAH,IAAAA,QAAQ,CAACM,QAAD,CAAR;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYV,KAAZ;AACA,GAND;;AAQA,QAAMW,UAAU,GAAG,MAAMT,KAAN,IAAe;AACjC,UAAMU,MAAM,GAAG;AACdC,MAAAA,OAAO,EAAE;AACR,wBAAgBX;AADR;AADK,KAAf;AAMA,UAAMY,GAAG,GAAGnB,KAAK,CAACoB,GAAN,CAAU,8BAAV,EAA0CH,MAA1C,CAAZ;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBI,GAArB;AACA,GATD;;AAWA,SACC,MAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAE;AAAEd,MAAAA,KAAF;AAASM,MAAAA,QAAT;AAAmBK,MAAAA,UAAnB;AAA+BH,MAAAA;AAA/B;AAA9B,KACET,KAAK,CAACiB,QADR,CADD;AAKA,CAtCM;AAuCP,OAAO,MAAMC,QAAQ,GAAGrB,YAAY,CAACqB,QAA9B;AAEP,eAAerB,YAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport Axios from 'axios';\r\n\r\nconst AgentContext = React.createContext();\r\n\r\nexport const Provider = props => {\r\n\tconst [state, setState] = useState({\r\n\t\ttoken: '',\r\n\t\tuserName: '',\r\n\t\tisLogin: false,\r\n\t\tid: '',\r\n\t});\r\n\r\n\tconst addToken = token => {\r\n\t\tconst newState = state;\r\n\t\tnewState.token = token;\r\n\t\tsetState(newState);\r\n\t};\r\n\r\n\tconst addName = userName => {\r\n\t\tconst newState = state;\r\n\t\tnewState.userName = userName;\r\n\t\tnewState.isLogin = true;\r\n\t\tsetState(newState);\r\n\t\tconsole.log(state);\r\n\t};\r\n\r\n\tconst isUserAuth = async token => {\r\n\t\tconst header = {\r\n\t\t\theaders: {\r\n\t\t\t\t'x-auth-token': token,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst res = Axios.get('https://api.moni.pe/api/auth', header);\r\n\t\tconsole.log('res:-', res);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<AgentContext.Provider value={{ state, addToken, isUserAuth, addName }}>\r\n\t\t\t{props.children}\r\n\t\t</AgentContext.Provider>\r\n\t);\r\n};\r\nexport const Consumer = AgentContext.Consumer;\r\n\r\nexport default AgentContext;\r\n"]},"metadata":{},"sourceType":"module"}