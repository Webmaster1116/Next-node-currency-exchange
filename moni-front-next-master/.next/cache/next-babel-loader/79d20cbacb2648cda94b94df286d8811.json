{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { Table } from 'react-bootstrap';\nimport Cookies from 'js-cookie';\nimport Axios from 'axios';\nimport moment from 'moment';\nimport ViewUserPopup from './viewUserPopup';\n\nconst getUsers = async (token, page, limit) => {\n  const header = {\n    headers: {\n      'x-auth-token': token\n    }\n  };\n  const res = await Axios.get('https://api.moni.pe/api/profiles/all' + '?page=' + page + '&limit=' + limit, header);\n  return res.data;\n};\n\nconst Users = props => {\n  const {\n    0: state,\n    1: setState\n  } = useState([]);\n  const {\n    0: userPopup,\n    1: setUserPopup\n  } = useState(false);\n  const {\n    0: user,\n    1: setUser\n  } = useState('');\n  const {\n    0: limit,\n    1: setLimit\n  } = useState(10);\n  const {\n    0: page,\n    1: setPage\n  } = useState(1);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n\n  const init = async () => {\n    // console.log(Cookies.get(\"adminToken\"));\n    setLoading(true);\n    const data = await getUsers(Cookies.get('adminToken'), page, limit);\n    setState(data); // console.log(data);\n\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    init();\n  }, []);\n  useEffect(() => {\n    init();\n  }, [page]);\n  return __jsx(\"div\", null, __jsx(\"section\", {\n    className: \"jsx-552793321\" + \" \" + 'page-section min-section pt-30 mt-40'\n  }, __jsx(\"div\", {\n    className: \"jsx-552793321\" + \" \" + 'container min-section'\n  }, __jsx(\"div\", {\n    className: \"jsx-552793321\" + \" \" + 'row mt-10 mb-30'\n  }), __jsx(\"div\", {\n    className: \"jsx-552793321\" + \" \" + 'row'\n  }, __jsx(\"div\", {\n    className: \"jsx-552793321\" + \" \" + 'col-md-12'\n  }, userPopup ? __jsx(ViewUserPopup, {\n    setViewUserPopup: setUserPopup,\n    user: user\n  }) : '', loading ? __jsx(\"div\", {\n    className: \"jsx-552793321\" + \" \" + 'loader'\n  }, \"Cargando...\") : __jsx(Table, {\n    responsive: \"sm\",\n    className: \"table table-striped\"\n  }, __jsx(\"tbody\", {\n    className: \"jsx-552793321\"\n  }, __jsx(\"tr\", {\n    className: \"jsx-552793321\"\n  }, __jsx(\"th\", {\n    className: \"jsx-552793321\" + \" \" + 'hidden-xs'\n  }), __jsx(\"th\", {\n    className: \"jsx-552793321\"\n  }, \"Nombre de usuario\"), __jsx(\"th\", {\n    className: \"jsx-552793321\"\n  }, \"Email\"), __jsx(\"th\", {\n    className: \"jsx-552793321\"\n  }, \"Contacto\"), __jsx(\"th\", {\n    className: \"jsx-552793321\"\n  }, \"Fecha de nacimiento\"), __jsx(\"th\", {\n    className: \"jsx-552793321\" + \" \" + 'hidden-xs'\n  })), state.map((user, index) => {\n    return __jsx(React.Fragment, null, __jsx(\"tr\", {\n      className: \"jsx-552793321\"\n    }, __jsx(\"td\", {\n      className: \"jsx-552793321\" + \" \" + 'hidden-xs'\n    }), __jsx(\"td\", {\n      className: \"jsx-552793321\"\n    }, __jsx(\"button\", {\n      onClick: e => {\n        setUser(user);\n        setUserPopup(!userPopup);\n      },\n      className: \"jsx-552793321\" + \" \" + 'btn orange'\n    }, user.firstName, \" \", user.lastName)), __jsx(\"td\", {\n      className: \"jsx-552793321\"\n    }, user.email), __jsx(\"td\", {\n      className: \"jsx-552793321\"\n    }, user.phone), __jsx(\"td\", {\n      className: \"jsx-552793321\"\n    }, moment(user.date).format('DD/MM/YYYY hh:mm')), __jsx(\"td\", {\n      className: \"jsx-552793321\" + \" \" + 'hidden-xs'\n    })));\n  }))))), __jsx(\"div\", {\n    className: \"jsx-552793321\" + \" \" + 'pagination'\n  }, __jsx(\"a\", {\n    href: \"\",\n    onClick: e => {\n      e.preventDefault();\n      page > 1 ? setPage(page - 1) : setPage(page);\n    },\n    className: \"jsx-552793321\"\n  }, __jsx(\"i\", {\n    className: \"jsx-552793321\" + \" \" + 'fa fa-angle-left'\n  })), __jsx(\"a\", {\n    href: \"\",\n    onClick: e => {\n      e.preventDefault();\n      setPage(page);\n    },\n    className: \"jsx-552793321\" + \" \" + 'active'\n  }, page), __jsx(\"a\", {\n    href: \"\",\n    onClick: e => {\n      e.preventDefault();\n      setPage(page + 1);\n    },\n    className: \"jsx-552793321\"\n  }, page + 1), __jsx(\"a\", {\n    href: \"\",\n    onClick: e => {\n      e.preventDefault();\n      setPage(page + 2);\n    },\n    className: \"jsx-552793321\"\n  }, page + 2), __jsx(\"a\", {\n    className: \"jsx-552793321\" + \" \" + 'no-active'\n  }, \"...\"), __jsx(\"a\", {\n    href: \"\",\n    onClick: e => {\n      e.preventDefault();\n      setPage(page + 1);\n    },\n    className: \"jsx-552793321\"\n  }, __jsx(\"i\", {\n    className: \"jsx-552793321\" + \" \" + 'fa fa-angle-right'\n  })))), __jsx(_JSXStyle, {\n    id: \"552793321\"\n  }, [\".min-section.jsx-552793321{background:white;background-image:url('../images/bkg-neutro.jpg') !important;background-attachment:fixed;background-repeat:no-repeat;background-size:cover;}\", \".btn.jsx-552793321{background:white;margin:0px;padding:0px;}\", \".min-section.jsx-552793321{max-height:900vh;min-height:80vh;overflow:auto;white-space:nowrap;}\", \".page-section.jsx-552793321{max-height:100vh;}\", \".btn.jsx-552793321{background:transparent;margin:0px;padding:0px;}\"])));\n};\n\nexport default Users;","map":null,"metadata":{},"sourceType":"module"}