{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Axios from 'axios';\nvar UserContext = React.createContext();\nexport var Provider = function Provider(props) {\n  var _useState = useState({\n    token: '',\n    userName: '',\n    isLogin: false,\n    id: ''\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var addToken = function addToken(token) {\n    var newState = state;\n    newState.token = token;\n    setState(newState);\n  };\n\n  var addName = function addName(userName) {\n    var newState = state;\n    newState.userName = userName;\n    newState.isLogin = true;\n    setState(newState);\n  };\n\n  var isUserAuth = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(token) {\n      var header, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              header = {\n                headers: {\n                  'x-auth-token': token\n                }\n              };\n              res = Axios.get('https://api.moni.pe/api/auth', header);\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function isUserAuth(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(UserContext.Provider, {\n    value: {\n      state: state,\n      addToken: addToken,\n      isUserAuth: isUserAuth,\n      addName: addName\n    }\n  }, props.children);\n};\nexport var Consumer = UserContext.Consumer;\nexport default UserContext;","map":null,"metadata":{},"sourceType":"module"}