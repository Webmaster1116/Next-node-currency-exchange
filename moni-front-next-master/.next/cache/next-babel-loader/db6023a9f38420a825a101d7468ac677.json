{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport Axios from 'axios';\nimport Cookies from 'js-cookie';\nimport Router, { withRouter } from 'next/router';\n\nvar getData = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(token) {\n    var header, data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            header = {\n              headers: {\n                'x-auth-token': token\n              }\n            };\n            _context.next = 3;\n            return Axios.get('https://api.moni.pe/api/auth', header);\n\n          case 3:\n            data = _context.sent;\n            return _context.abrupt(\"return\", data.data);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function getData(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar TopNav = function TopNav(_ref2) {\n  var props = _ref2.props;\n\n  var _useState = useState(false),\n      islogin = _useState[0],\n      setIsLogin = _useState[1];\n\n  var _useState2 = useState(''),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var init = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var coo, data;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              coo = Cookies.get('token'); // console.log('coo', coo);\n\n              if (!(coo != undefined)) {\n                _context2.next = 13;\n                break;\n              }\n\n              _context2.prev = 2;\n              _context2.next = 5;\n              return getData(coo);\n\n            case 5:\n              data = _context2.sent;\n              // console.log('name', data.name);\n              setName(data.name);\n              setIsLogin(true);\n              _context2.next = 13;\n              break;\n\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](2);\n              setIsLogin(false);\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[2, 10]]);\n    }));\n\n    return function init() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    init();\n  }, []);\n\n  var handleLogout = function handleLogout() {\n    var res = Cookies.remove('token'); // console.log('logout', res);\n\n    window.location.href = '/login';\n  }; // const [active, setActive] = useState(0);\n  // const [sty, setSty] = useState([\"active\", \"\", \"\", \"\"]);\n  // const [current, setCurrent] = useState(0);\n  // const handleChange = (next) => {\n  //   const prev = active;\n  //   setActive(next);\n  //   const style = sty;\n  //   style[prev] = \"\";\n  //   style[next] = \"active\";\n  //   setSty(style);\n  // };\n\n\n  return __jsx(React.Fragment, null, __jsx(\"nav\", {\n    className: \"jsx-3178604906\" + \" \" + 'main-nav dark stick-fixed'\n  }, __jsx(\"div\", {\n    className: \"jsx-3178604906\" + \" \" + 'container relative clearfix'\n  }, __jsx(\"div\", {\n    className: \"jsx-3178604906\" + \" \" + 'nav-logo-wrap local-scroll'\n  }, __jsx(Link, {\n    href: \"\"\n  }, __jsx(\"a\", {\n    onClick: function onClick() {\n      window.location.href = '/';\n    },\n    className: \"jsx-3178604906\" + \" \" + 'logo'\n  }, __jsx(\"img\", {\n    src: \"images/logo-moni.png\",\n    alt: \"\",\n    className: \"jsx-3178604906\"\n  })))), __jsx(\"div\", {\n    className: \"jsx-3178604906\" + \" \" + 'mobile-nav'\n  }, __jsx(\"a\", {\n    href: \"\",\n    className: \"jsx-3178604906\" + \" \" + 'fm-button'\n  }, __jsx(\"span\", {\n    className: \"jsx-3178604906\"\n  }), \"Menu\"), __jsx(\"div\", {\n    id: \"fullscreen-menu\",\n    className: \"jsx-3178604906\" + \" \" + 'fm-wrapper'\n  }, __jsx(\"div\", {\n    className: \"jsx-3178604906\" + \" \" + 'fm-wrapper-sub'\n  }, __jsx(\"div\", {\n    className: \"jsx-3178604906\" + \" \" + 'fm-wrapper-sub-sub'\n  }, __jsx(\"ul\", {\n    className: \"jsx-3178604906\" + \" \" + 'fm-menu-links scroll-nav local-scroll'\n  }, __jsx(\"li\", {\n    className: \"jsx-3178604906\"\n  }, __jsx(Link, {\n    href: \"\"\n  }, __jsx(\"a\", {\n    onClick: function onClick() {\n      window.location.href = '/profile';\n    },\n    className: \"jsx-3178604906\"\n  }, \"Datos de perfil\"))), __jsx(\"li\", {\n    className: \"jsx-3178604906\"\n  }, __jsx(Link, {\n    href: \"\"\n  }, __jsx(\"a\", {\n    onClick: function onClick() {\n      window.location.href = '/bank';\n    },\n    className: \"jsx-3178604906\"\n  }, \"Cuentas bancarias\"))), __jsx(\"li\", {\n    className: \"jsx-3178604906\"\n  }, __jsx(Link, {\n    href: \"\"\n  }, __jsx(\"a\", {\n    onClick: function onClick() {\n      window.location.href = '/history';\n    },\n    className: \"jsx-3178604906\"\n  }, \"Historial de operaciones\"))), __jsx(\"li\", {\n    className: \"jsx-3178604906\"\n  }, __jsx(Link, {\n    href: \"\"\n  }, __jsx(\"a\", {\n    onClick: function onClick() {\n      window.location.href = '/operation';\n    },\n    className: \"jsx-3178604906\"\n  }, __jsx(\"span\", {\n    className: \"jsx-3178604906\" + \" \" + 'btn btn-mod btn-color btn-border-w btn-medium btn-circle bold'\n  }, \"Iniciar operaci\\xF3n\")))), __jsx(\"li\", {\n    className: \"jsx-3178604906\"\n  }, __jsx(\"a\", {\n    href: \"\",\n    className: \"jsx-3178604906\"\n  }, \"Elegir perfil\")), __jsx(\"li\", {\n    className: \"jsx-3178604906\"\n  }, __jsx(Link, {\n    href: \"\"\n  }, __jsx(\"a\", {\n    onClick: function onClick() {\n      window.location.href = '/faq';\n    },\n    className: \"jsx-3178604906\"\n  }, \"Ayuda\"))), __jsx(\"li\", {\n    className: \"jsx-3178604906\"\n  }, __jsx(\"a\", {\n    href: \"\",\n    onClick: handleLogout,\n    className: \"jsx-3178604906\"\n  }, \"Cerrar sesi\\xF3n\"))))))), __jsx(\"div\", {\n    className: \"jsx-3178604906\" + \" \" + 'inner-nav desktop-nav'\n  }, __jsx(\"ul\", {\n    className: \"jsx-3178604906\" + \" \" + 'clearlist scroll-nav local-scroll'\n  }, __jsx(\"li\", {\n    className: \"jsx-3178604906\"\n  }, __jsx(Link, {\n    href: \"\"\n  }, __jsx(\"a\", {\n    onClick: function onClick() {\n      window.location.href = '/bank';\n    },\n    className: \"jsx-3178604906\"\n  }, \"Cuentas bancarias\"))), __jsx(\"li\", {\n    className: \"jsx-3178604906\"\n  }, __jsx(Link, {\n    href: \"\"\n  }, __jsx(\"a\", {\n    onClick: function onClick() {\n      window.location.href = '/operation';\n    },\n    className: \"jsx-3178604906\"\n  }, __jsx(\"span\", {\n    className: \"jsx-3178604906\" + \" \" + 'btn btn-mod btn-color btn-border-w btn-medium btn-circle bold'\n  }, \"Iniciar operaci\\xF3n\")))), __jsx(\"li\", {\n    className: \"jsx-3178604906\"\n  }, __jsx(\"a\", {\n    href: \"#\",\n    className: \"jsx-3178604906\" + \" \" + 'mn-has-sub'\n  }, __jsx(\"i\", {\n    className: \"jsx-3178604906\" + \" \" + 'fa fa-user fa-2x'\n  }), \" \", name, ' ', __jsx(\"i\", {\n    className: \"jsx-3178604906\" + \" \" + 'fa fa-angle-down fa-2x'\n  })), __jsx(\"ul\", {\n    style: {\n      display: 'none'\n    },\n    className: \"jsx-3178604906\" + \" \" + 'mn-sub'\n  }, __jsx(\"li\", {\n    className: \"jsx-3178604906\"\n  }, __jsx(Link, {\n    href: \"\"\n  }, __jsx(\"a\", {\n    onClick: function onClick() {\n      window.location.href = '/history';\n    },\n    className: \"jsx-3178604906\"\n  }, __jsx(\"soan\", {\n    className: \"jsx-3178604906\"\n  }, \" Historial de operaciones\")))), __jsx(\"li\", {\n    className: \"jsx-3178604906\"\n  }, __jsx(Link, {\n    href: \"\"\n  }, __jsx(\"a\", {\n    onClick: function onClick() {\n      window.location.href = '/profile';\n    },\n    className: \"jsx-3178604906\"\n  }, \"Perfil\"))), __jsx(\"li\", {\n    className: \"jsx-3178604906\"\n  }, __jsx(\"a\", {\n    className: \"jsx-3178604906\"\n  }, __jsx(\"button\", {\n    onClick: handleLogout,\n    className: \"jsx-3178604906\" + \" \" + 'btn'\n  }, __jsx(\"i\", {\n    className: \"jsx-3178604906\" + \" \" + 'fa fa-sign-out fa-2x'\n  }), \" Cerrar sesi\\xF3n\")))))))), __jsx(_JSXStyle, {\n    id: \"3178604906\"\n  }, [\".btn.jsx-3178604906{background:transparent;margin:0%;padding:0%;}\", \".btn.jsx-3178604906:hover{color:white;}\"])));\n};\n\nexport default TopNav;","map":null,"metadata":{},"sourceType":"module"}