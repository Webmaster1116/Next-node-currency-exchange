{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{O2ls:function(e,a,t){\"use strict\";t.r(a);var n=t(\"q1tI\"),s=t.n(n),o=(t(\"8Kt/\"),t(\"5Yp1\")),r=t(\"o0o1\"),c=t.n(r),i=t(\"HaE+\"),l=t(\"MX0m\"),u=t.n(l),m=t(\"BGyl\"),d=t(\"EcdV\"),p=t(\"zOdd\"),f=(t(\"nOHt\"),t(\"vDqi\")),x=t.n(f),b=(t(\"YFqc\"),t(\"HQGO\")),g=t(\"p46w\"),w=t.n(g),h=(t(\"of9s\"),s.a.createElement),j=function(){var e=Object(n.useState)(\"\"),a=e[0],t=e[1],o=Object(n.useState)(\"\"),r=o[0],l=o[1],f=(Object(n.useContext)(m.b),Object(n.useContext)(d.b)),g=f.state,j=f.addToken,v=f.addName,N=Object(n.useContext)(p.a),k=N.setAlert,O=(N.alerts,Object(n.useState)(!1)),C=O[0],E=O[1],_=Object(n.useState)(!1),y=_[0],H=_[1],S=Object(n.useState)(!1),q=S[0],I=S[1];Object(n.useEffect)((function(){window.onpopstate=function(e){window.location.href=\"/\"},void 0!==w.a.get(\"token\")&&(window.location.href=\"/operation\"),I(!1)}),[]);var D=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,s,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n={email:a,password:r},E(!0),e.prev=3,\"\"!==n.email&&\"\"!==n.password){e.next=9;break}k(\"Por favor llena todos los espacios\",\"danger\"),E(!1),e.next=23;break;case 9:return e.next=11,x.a.post(\"https://api.moni.pe/api/auth\",n);case 11:return s=e.sent,console.log(s,\"resss\"),e.next=15,j(s.data.token);case 15:return w.a.set(\"token\",s.data.token),window.location.href=\"/\",o={headers:{\"x-auth-token\":g.token}},e.next=20,x.a.get(\"https://api.moni.pe/api/auth\",o);case 20:return i=e.sent,e.next=23,v(i.data.name);case 23:e.next=30;break;case 25:e.prev=25,e.t0=e.catch(3),\"Your account has not been verified.\"===e.t0.response.data.msg&&(window.location.href=\"/resend\"),k(e.t0.response.data.msg,\"danger\"),E(!1);case 30:case\"end\":return e.stop()}}),e,null,[[3,25]])})));return function(a){return e.apply(this,arguments)}}();return!0===C?h(\"div\",{className:\"form-container w-100 h-100\"},h(\"div\",{className:\"loader\"},h(b.a,null)),h(\"style\",null,\"\\n        .form-container {\\n          height: 100vh !important;\\n          // background: #071127;\\n          }\\n        \")):!0===q?h(\"div\",{className:\"page-loader\"},h(\"div\",{className:\"loader\"},\"Cargando...\")):h(s.a.Fragment,null,h(\"section\",{id:\"page\",className:\"jsx-55367813 page-section pt-20 pb-0\"},h(\"div\",{className:\"jsx-55367813 home-content container\"},h(\"div\",{className:\"jsx-55367813 home-text\"},h(\"div\",{className:\"jsx-55367813 container align-center\"},h(\"div\",{className:\"jsx-55367813 row\"},h(\"div\",{className:\"jsx-55367813 col-sm-5 col-sm-push-3\"},h(\"form\",{className:\"jsx-55367813 form white\"},h(\"img\",{src:\"images/logo-moni.png\",alt:\"Moni\",width:\"150px\",className:\"jsx-55367813\"}),h(\"h1\",{className:\"jsx-55367813 section-title pt-80 pt-xs-40 mb-40 mb-sm-40\"},\"Ingresa a tu cuenta\"),h(\"input\",{type:\"text\",name:\"usuario\",id:\"usuario\",placeholder:\"Usuario\",pattern:\".{3,100}\",value:a,onChange:function(e){t(e.target.value)},className:\"jsx-55367813 input-sm bold\"}),h(\"i\",{className:\"jsx-55367813 fa fa-user fa-2x campoform\"}),h(\"input\",{name:\"password\",id:\"password\",placeholder:\"Contrase\\xf1a\",pattern:\".{3,100}\",type:y?\"text\":\"password\",value:r,onChange:function(e){l(e.target.value)},className:\"jsx-55367813 input-sm bold\"}),h(\"i\",{onClick:function(e){e.preventDefault(),H(!y)},className:\"jsx-55367813 fa fa-eye fa-2x campoform\"}),h(\"button\",{onClick:D,className:\"jsx-55367813 btn btn-mod btn-color btn-border-w btn-large btn-circle mb-20\"},\"Iniciar sesi\\xf3n\"),h(\"a\",{href:\"/forgetpassword\",className:\"jsx-55367813\"},\"\\xbfOlvidaste tu contrase\\xf1a?\"),h(\"p\",{className:\"jsx-55367813 mt-20\"},\"\\xbfNo tienes una cuenta para operar?\",h(\"br\",{className:\"jsx-55367813\"}),\"Crea una cuenta\",\" \",h(\"a\",{href:\"/register\",className:\"jsx-55367813 orange\"},\"aqu\\xed\")),h(\"p\",{className:\"jsx-55367813 mt-20\"},\"Inicie sesi\\xf3n como administrador\",h(\"br\",{className:\"jsx-55367813\"}),h(\"a\",{href:\"/admin_login\",className:\"jsx-55367813 orange\"},\"admin login\")))))))),h(u.a,{id:\"55367813\"},[\".btn-icon.jsx-55367813{background:transparent;color:white;}\"])))},v=s.a.createElement;a.default=function(e){return v(s.a.Fragment,null,v(o.a,null),v(\"div\",{className:\"page\",id:\"top\"},v(j,null)))}},u6Hu:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/login\",function(){return t(\"O2ls\")}])}},[[\"u6Hu\",0,2,1,3,4,6,7]]]);","extractedComments":[]}