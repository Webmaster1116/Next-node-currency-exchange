{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{\"4dhv\":function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin_login\",function(){return t(\"z3WO\")}])},\"4v4g\":function(e,a,t){\"use strict\";t.d(a,\"a\",(function(){return r}));var n=t(\"q1tI\"),o=t.n(n),s=(t(\"vDqi\"),o.a.createElement),i=o.a.createContext(),r=function(e){var a=Object(n.useState)({token:\"\",isAuthenticated:!1}),t=a[0],o=a[1];return s(i.Provider,{value:{state:t,addToken:function(e){var a=t;a.token=e,o(a)},changeAuthenticated:function(){var e=t;e.isAuthenticated=!0,o(e)}}},e.children)};i.Consumer;a.b=i},\"i+Mi\":function(e,a,t){\"use strict\";t.d(a,\"a\",(function(){return m}));var n=t(\"o0o1\"),o=t.n(n),s=t(\"HaE+\"),i=t(\"q1tI\"),r=t.n(i),c=t(\"vDqi\"),u=t.n(c),d=r.a.createElement,l=r.a.createContext(),m=function(e){var a=Object(i.useState)({token:\"\",userName:\"\",isLogin:!1,id:\"\"}),t=a[0],n=a[1],r=function(){var e=Object(s.a)(o.a.mark((function e(a){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={headers:{\"x-auth-token\":a}},u.a.get(\"https://api.moni.pe/api/auth\",t);case 2:case\"end\":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return d(l.Provider,{value:{state:t,addToken:function(e){var a=t;a.token=e,n(a)},isUserAuth:r,addName:function(e){var a=t;a.userName=e,a.isLogin=!0,n(a)}}},e.children)};l.Consumer;a.b=l},z3WO:function(e,a,t){\"use strict\";t.r(a);var n=t(\"o0o1\"),o=t.n(n),s=t(\"HaE+\"),i=t(\"MX0m\"),r=t.n(i),c=t(\"q1tI\"),u=t.n(c),d=t(\"vDqi\"),l=t.n(d),m=t(\"4v4g\"),p=t(\"5Yp1\"),v=(t(\"nOHt\"),t(\"zOdd\")),f=(t(\"YFqc\"),t(\"i+Mi\"),t(\"8Kt/\"),t(\"HQGO\")),h=t(\"p46w\"),b=t.n(h),g=(t(\"of9s\"),u.a.createElement);a.default=function(e){var a=Object(c.useState)(\"\"),t=a[0],n=a[1],i=Object(c.useState)(\"\"),d=i[0],h=i[1],x=(Object(c.useContext)(m.b),Object(c.useContext)(m.b)),j=(x.state,x.addToken),w=x.changeAuthenticated,k=Object(c.useContext)(v.a),N=k.setAlert,O=(k.alerts,Object(c.useState)(!1)),C=O[0],A=O[1],T=Object(c.useState)(!1),_=T[0],E=T[1],q=Object(c.useState)(\"Admin\"),S=q[0],y=q[1];Object(c.useEffect)((function(){void 0!==b.a.get(\"adminToken\")&&(window.location.href=\"/admin/admin_dashboard\")}),[]);var I=function(){var e=Object(s.a)(o.a.mark((function e(a){var n,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n=\"https://api.moni.pe/api/admin/auth\",s={email:t,password:d},\"Agent\"===S&&(n=\"https://api.moni.pe/api/agent/auth\"),A(!0),e.prev=5,\"\"!==s.email&&\"\"!==s.password){e.next=11;break}A(!1),N(\"Por favor llena todos los espacios\",\"danger\"),e.next=24;break;case 11:return e.next=13,l.a.post(n,s);case 13:if(void 0===(i=e.sent).data){e.next=22;break}return e.next=17,j(i.data.token);case 17:\"Agent\"===S?(b.a.set(\"agentToken\",i.data.token),b.a.remove(\"adminToken\")):(b.a.set(\"adminToken\",i.data.token),b.a.remove(\"agentToken\")),w(),window.location.href=\"/admin/admin_dashboard\",e.next=24;break;case 22:N(\"Por favor llena todos los espacios\",\"danger\"),A(!1);case 24:e.next=31;break;case 26:e.prev=26,e.t0=e.catch(5),console.log(e.t0),N(\"Credenciales no v\\xe1lidas\",\"danger\"),A(!1);case 31:case\"end\":return e.stop()}}),e,null,[[5,26]])})));return function(a){return e.apply(this,arguments)}}();return!0===C?g(\"div\",{className:\"loading w-100 h-100\"},g(\"div\",{className:\"loader\"},g(f.a,null)),g(\"style\",null,\"\\n          .loading {\\n            overflow: hidden\\n            margin: 0px;\\n            padding: 0px;\\n            height: 100vh;\\n            background: #071127;\\n          }\\n        \")):g(u.a.Fragment,null,g(p.a,null,g(\"div\",{className:\"page\",id:\"top\"},g(\"section\",{id:\"page\",className:\"jsx-4072744872 page-section pt-20 pb-0\"},g(\"div\",{className:\"jsx-4072744872 home-content container\"},g(\"div\",{className:\"jsx-4072744872 home-text\"},g(\"div\",{className:\"jsx-4072744872 container align-center\"},g(\"div\",{className:\"jsx-4072744872 row\"},g(\"div\",{className:\"jsx-4072744872 col-sm-5 col-sm-push-3\"},g(\"form\",{className:\"jsx-4072744872 form white\"},g(\"img\",{src:\"images/logo-moni.png\",alt:\"Moni\",width:\"150px\",className:\"jsx-4072744872\"}),g(\"h1\",{className:\"jsx-4072744872 section-title pt-80 pt-xs-40 mb-40 mb-sm-40\"},\"Inicie sesi\\xf3n como administrador\"),g(\"input\",{type:\"text\",name:\"usuario\",id:\"usuario\",placeholder:\"Usuario\",pattern:\".{3,100}\",value:t,onChange:function(e){n(e.target.value)},className:\"jsx-4072744872 input-sm bold\"}),g(\"i\",{className:\"jsx-4072744872 fa fa-user fa-2x campoform\"}),g(\"input\",{name:\"password\",id:\"password\",placeholder:\"Contrase\\xf1a\",pattern:\".{3,100}\",type:_?\"text\":\"password\",value:d,onChange:function(e){h(e.target.value)},className:\"jsx-4072744872 input-sm bold\"}),g(\"i\",{onClick:function(e){e.preventDefault(),E(!_)},className:\"jsx-4072744872 fa fa-eye fa-2x campoform\"}),g(\"select\",{onChange:function(e){y(e.target.value)},disabled:\"\",className:\"jsx-4072744872 input-sm mb-20\"},g(\"option\",{selected:!0,className:\"jsx-4072744872 opt-custom\"},\"Admin\"),g(\"option\",{className:\"jsx-4072744872 opt-custom\"},\"Agent\")),g(\"button\",{onClick:I,className:\"jsx-4072744872 btn btn-mod btn-color btn-border-w btn-large btn-circle mb-20\"},\"Iniciar sesi\\xf3n\"),g(\"p\",{className:\"jsx-4072744872 mt-20\"},\"Inicie sesi\\xf3n como usuario\",g(\"br\",{className:\"jsx-4072744872\"}),g(\"a\",{href:\"/login\",className:\"jsx-4072744872 orange\"},\"user login\")))))))),g(r.a,{id:\"4072744872\"},[\".btn-icon.jsx-4072744872{background:transparent;color:white;}\",\".opt-custom.jsx-4072744872{color:white !important;background:black !important;}\",\".opt-custom.jsx-4072744872:hover{background:orange !important;color:white !important;}\",\"select.jsx-4072744872 option.jsx-4072744872:hover{background:orange !important;color:white !important;}\"])))))}}},[[\"4dhv\",0,2,1,3,4,6,9]]]);","extractedComments":[]}